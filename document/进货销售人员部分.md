#### 用户界面层模块的职责

| 模块                   | 职责                                       |
| -------------------- | ---------------------------------------- |
| SalesmanMainFrame    | 销售人员主界面，负责客户管理、制定单据界面的显示和跳转              |
| CustomerManageFrame  | 客户管理界面，负责查看客户列表和对客户进行增加与查找，并负责客户信息界面及其他客户管理操作的显示和跳转 |
| StockMadeFrame       | 制定进货单界面，负责收录进货单的信息和传递，及界面的跳转             |
| StockReturnMadeFrame | 制定进货退货单界面，负责收录进货退货单的信息和传递，及界面的跳转         |
| SalesMadeFrame       | 制定销售单界面，负责收录销售单的信息和传递，及界面的跳转             |
| SalesReturnMadeFrame | 制定销售退货单界面，负责收录销售退货单的信息和传递，及界面的跳转         |



#### 用户界面层模块的接口规范

| 名称                  | 条目   | 详情                    |
| ------------------- | ---- | --------------------- |
|                     | 语法   | `init(args:String[])` |
| SalesmanMainFrame   | 前置条件 | 用户已登录并已授权，且处于主界面      |
|                     | 后置条件 | 显示Frame及Panel         |
|                     | 语法   | `init(args:String[])` |
| CustomerFrame       | 前置条件 | 处于销售人员管理界面            |
|                     | 后置条件 | 显示Frame及Panel         |
|                     | 语法   | `init(args:String[])` |
| StockDocFrame       | 前置条件 | 处于销售人员管理界面            |
|                     | 后置条件 | 显示Frame及Panel         |
|                     | 语法   | `init(args:String[])` |
| StockReturnDocFrame | 前置条件 | 处于销售人员管理界面            |
|                     | 后置条件 | 显示Frame及Panel         |
|                     | 语法   | `init(args:String[])` |
| SalesDocFrame       | 前置条件 | 处于销售人员管理界面            |
|                     | 后置条件 | 显示Frame及Panel         |
|                     | 语法   | `init(args:String[])` |
| SalesReturnDocFrame | 前置条件 | 处于销售人员管理界面            |
|                     | 后置条件 | 显示Frame及Panel         |



#### 用户界面层模块需要的服务接口

| 服务名                                      | 服务             |
| ---------------------------------------- | -------------- |
| businesslogicservice.LoginBLService      | 登录界面的业务逻辑接口    |
| businesslogicservice.CustomerBLService   | 客户管理界面的业务逻辑接口  |
| businesslogicservice.StockDocBLService   | 制定进货单的业务逻辑接口   |
| businesslogicservice.StockReturnDocBLService | 制定进货退货单的业务逻辑接口 |
| businesslogicservice.SalesDocBLService   | 制定销售单的业务逻辑接口   |
| businesslogicservice.SalesReturnDocBLService | 制定销售退货单的业务逻辑接口 |



####业务逻辑层模块的职责

| 模块         | 职责                                       |
| ---------- | ---------------------------------------- |
| Customerbl | 负责实现客户管理过程中所需要的服务                        |
| Documentbl | 负责实现制定各种单据（进货单，进货退货单，销售单，销售退货单）时所需要的服务各种单据 |



#### 业务逻辑层模块的接口规范

##### Customerbl 模块的接口规范

- 提供的服务（供接口）

| 名称                       | 条目   | 详情                                       |
| ------------------------ | ---- | ---------------------------------------- |
|                          | 语法   | `public Arraylist<customer> getCustomerList () throws RemoteException` |
| Customer.getCustomerList | 前置条件 | 在客户管理进程中                                 |
|                          | 后置条件 | 返回客户列表                                   |
|                          | 语法   | `public boolean addCustomer(CustomerVO customer) throws RemoteException` |
| Customer.addCustomer     | 前置条件 | 已允许增加客户，并已输入有效的客户信息                      |
|                          | 后置条件 | 增加新的客户信息，更新持久化储存的数据                      |
|                          | 语法   | `public ArrayList<CustomerVO> findCustomer(String keyword) throws RemoteException` |
| Customer.findCustomer    | 前置条件 | 在查找客户里输入有效的关键字                           |
|                          | 后置条件 | 根据关键字进行模糊查找是否存在相应的客户，若存在匹配的客户则返回`CustomerPO`对象列表，若不存在匹配项则返回空列表 |
|                          | 语法   | `public boolean deleteCustomer(CustomerVO customer) throws RemoteException` |
| Customer.deleteCustomer  | 前置条件 | 选定需要删除的客户                                |
|                          | 后置条件 | 删除相应的`Customer`对象，更新持久化存储的数据             |
|                          | 语法   | `public boolean  modifyCustomer(CustomerVO customer) throws RemoteException` |
| Customer.modifyCustomer  | 前置条件 | 已输入更改后的有效的客户信息                           |
|                          | 后置条件 | 根据客户编号和输入的信息更改对应`Customer`对象数据，更新持久化存储的数据 |


- 需要的服务（需接口）
| 服务名                                      | 服务                  |
| ---------------------------------------- | ------------------- |
| CustomerDataService.getAll()             | 得到目前存储的所有的持久化对象     |
| CustomerDataService.find(String keyword) | 根据关键字模糊查找得到多个持久化对象  |
| CustomerDataService.insert(CustomerPO po) | 插入一个持久化对象           |
| CustomerDataService.delete(CustomerPO po) | 删除一个持久化对象           |
| CustomerDataService.update(CustomerPO po) | 更新一个持久化对象           |
| DataserviceFactory.getCustomerDatabase   | 得到Customer数据库的服务的引用 |
| CustomerDataService.insert(CustomerPO po) | 在数据库中插入CustomerPO对象 |



##### Documentbl 模块的接口规范

- 提供的服务

| 名称                               | 条目   | 详情                                       |
| -------------------------------- | ---- | ---------------------------------------- |
|                                  | 语法   | `public ResultMessage addStockDoc(StockDocVO stockDoc) throws RemoteException` |
| StockDoc.addStockDoc             | 前置条件 | 已在新建进货单进程中，且已经输入有效的进货单信息：单据编号，供应商，仓库，操作员，入库商品列表，备注，总额合计 |
|                                  | 后置条件 | 新建进货单，增加库存，并更新持久化数据                      |
|                                  | 语法   | `public ResultMessage addStockReturnDoc(StockReturnDocVO stockReturnDoc) throws RemoteException` |
| StockReturnDoc.addStockReturnDoc | 前置条件 | 已在新建进货退货单进程中，且已经输入有效的进货退货单信息：单据编号，供应商，仓库，操作员，入库商品列表，备注，总额合计 |
|                                  | 后置条件 | 新建进货退货单，减少库存，并更新持久化数据                    |
|                                  | 语法   | `public ResultMessage addSalesDoc(SalesDocVO salesDoc) throws RemoteException` |
| SalesDoc.addSaleDoc              | 前置条件 | 已在新建进货单进程中，且已经输入有效的进货单信息:单据编号，客户，业务员，操作员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注 |
|                                  | 后置条件 | 新建进货单，减少库存，并更新持久化数据                      |
|                                  | 语法   | `public ResultMessage addSaleReturnDoc(SalesReturnDocVO salesReturnDoc) throws RemoteException` |
| SalesReturnDoc.addSaleReturnDoc  | 前置条件 | 已在新建进货单进程中，且已经输入有效的进货单信息:单据编号，客户，业务员，操作员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注 |
|                                  | 后置条件 | 新建进货单，增加库存，并更新持久化数据                      |

- 需要的服务（需接口）
| 服务名                                      | 服务                   |
| ---------------------------------------- | -------------------- |
| DocDataService.insert(DocPO po)          | 插入一个持久化对象            |
| DataserviceFactory.getDocDatabase        | 得到Doc数据库的服务的引用       |
| Commoditydataservice.update(CommodityPO po) | 改变数据库中对应商品库存数量       |
| DataserviceFactory.getCommodityDatabase  | 得到Commodity数据库的服务的引用 |
| CustomerDataService.update(CustomerPO po) | 更改数据库中客户的应收应付        |
| DataserviceFactory.getCustomerDatabase   | 得到Customer数据库的服务的引用  |



####数据层模块的接口规范

#####CustomerDataService提供的接口规范

- 提供的服务

| 名称                         | 条目   | 详情                                       |
| -------------------------- | ---- | ---------------------------------------- |
|                            | 语法   | `public ArrayList<CustomerPO> getAll() ` |
| CustomerDataService.getAll | 前置条件 | 无                                        |
|                            | 后置条件 | 返回所有的CustomerPO                          |
|                            | 语法   | `public CustomerPO find(String keyword) ` |
| CustomerDataService.find   | 前置条件 | 无                                        |
|                            | 后置条件 | 按关键词进行查找返回相应的CustomerPO结果                |
|                            | 语法   | `public void insert(CustomerPO po) `     |
| CustomerDataService.insert | 前置条件 | 同样ID的po在数据库中不存在                          |
|                            | 后置条件 | 在数据库中增加一个po                              |
|                            | 语法   | `public void delete(CustomerPO po)`      |
| CustomerDataService.delete | 前置条件 | 在数据库中存在同样ID的po                           |
|                            | 后置条件 | 删除一个po                                   |
|                            | 语法   | `public void update(CustomerPO po)`      |
| CustomerDataService.update | 前置条件 | 在数据库中存在同样ID的po                           |
|                            | 后置条件 | 更新一个po                                   |


#####DocDataService提供的接口规范

- 提供的服务

| 名称                    | 条目   | 详情                                       |
| --------------------- | ---- | ---------------------------------------- |
|                       | 语法   | `public ResultMessage update(DocPO doc)` |
| DocDataService.update | 前置条件 | 同一ID的PO在数据库中存在                           |
|                       | 后置条件 | 在数据库中更新一个PO的数据                           |


#### 信息视角

##### 数据库表

数据库中包含User表、Customer表、StockDoc表、StockReturnDoc表、SaleDoc表、SaleReturnDoc表

