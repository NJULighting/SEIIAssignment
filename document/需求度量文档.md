# 需求度量

## 账户管理

- 输入：3
- 输出：13
- 查询：7
- 逻辑文件：3
- 对外接口：0

| 编号                             | 需求描述                                     |
| :----------------------------- | :--------------------------------------- |
| ManageAccount.Account.List     | 在财务人员请求查看账户列表时**（查询；逻辑文件）**，系统要显示完整账户列表**（输出）** |
| ManageAccount.Account.Detail   | 在财务人员请求查看详细账户信息时**（查询）**，系统要显示账户详细信息**（输出）** |
| ManageAccount.Add.Valid        | 在财务人员输入添加信息正确时**（输入；查询）**，系统要添加新的账户信息（参见ManageAccount.Update），并记录操作，参见ManageAccount.Log |
| ManageAccount.Add.Invalid      | 在财务人员输入添加账户信息不正确时，系统提示输入无效**（输出）**       |
| ManageAccount.Add.Duplicate    | 在财务人员添加重名账户时，系统要提示存在重名账户，要求重核心输入**（输出）** |
| ManageAccount.Delete.Account   | 在财务人员选择账户进行删除时**（查询）**，系统要删除选中账户，显示“删除成功”**（输出）**，更新信息（参见ManageAccount.Update），并记录操作，参见ManageAccount.Log |
| ManageAccount.Delete.Null      | 在财务人员未选中账户就进行删除时，系统要提示为选择账户**（输出）**      |
| ManageAccount.Search.Account   | 在财务人员输入关键字进行搜索且存在匹配项时**（查询；输入）**，系统显示匹配的账户**（输出）** |
| ManageAccount.Search.Null      | 在财务人员输入关键字进行搜素不存在匹配项时，系统提示无匹配项**（输出）**   |
| ManageAccount.Search.Nokeyword | 在财务人员不输入任何关键字进行搜索时，系统提示未输入关键字**（输出）**    |
| ManageAccount.Modify.Valid     | 在财务人员修改某账户信息且输入合法时**（查询；输入）**，系统要显示修改成功**（输出）**，更新该账户信息（参见ManageAccount.Update），并记录操作（参见ManageAccount.Log） |
| ManageAccount.Modify.Invalid   | 在财务人员修改某账户信息输入不合法时，系统要提示错误**（输出）**       |
| ManageAccount.Modify.Duplicate | 在财务人员修改账户名称出现重名时，系统要提示错误**（输出）**         |
| ManageAccount.Cancel           | 在财务人员取消当前操作时**（查询）**，系统要退出当前任务**（输出）**   |
| ManageAccount.Log              | 系统记录操作的详细信息，包括时间，操作人，行为，结果**（逻辑文件）**     |
| ManageAccount.Update           | 系统更新账户信息**（逻辑文件）**                       |

## 制定收付款单

- 输入：3
- 输出：6
- 查询：4
- 逻辑文件：4
- 对外接口：0

| 编号                                    | 需求描述                                     |
| :------------------------------------ | ---------------------------------------- |
| AccountInOut.Build                    | 在财务人员要求新建一张收（付）款单时**（查询）**，系统要生成一张单据**（输出）** |
| AccountInOut.Commit.Valid             | 在财务人员填写正确提交时**（输入；查询）**，系统要进行操作日志记录（见AccountInOut.Log），并将单据交给审批程序（见AccountInOut.Approve） |
| AccountInOut.Commit.Account.NotEnough | 在财务人员选择的账户余额不足时**（输入）**，系统要提示余额不足**（输出）** |
| AccountInOut.Commit.Num.Invalid       | 在财务人员输入的金额中包含非数字时**（输入）**，系统要提示输入非法**（输出）** |
| AccountInOut.Commit.Incomplete        | 在单据未填写完所有内容就进行提交时，系统不予响应                 |
| AccountInOut.Cancel                   | 在财务人员要取消建立当前单据时**（查询）**，系统要退出当前填写任务      |
| AccountInOut.Approve                  | 系统将提交的单据交给审批程序进行审批                       |
| AccountInOut.Approve.Pass             | 单据审批通过后，系统给财务人员发送通过消息**（输出）**，更新客户的应收应付数据（参见AccountInOut.Update.Customer），将单据入账（参见AccountInOut.Record） |
| AccountInOut.Approve.Reject           | 单据审批不通过，系统给财务人员发送不通过消息**（输出）**，并进行操作日志记录（参见AccountInOut.Log） |
| AccountInOut.Approve.Modify           | 在财务人员提交的单据审批不通过请求修改时**（查询）**，系统要将未通过的单据显示**（输出；逻辑文件）**，提供重新编辑的机会，让财务人员重新提交（参见AccountInOut.Commit） |
| AccountInOut.Update.Customer          | 系统更新客户应收应付信息**（逻辑文件）**                   |
| AccountInOut.Record                   | 系统将单据入账，记录单据的详细信息**（逻辑文件）**              |
| AccoutnInOut.Log                      | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |

## 制定现金费用单

- 输入：3
- 输出：4
- 查询：4
- 逻辑文件：4
- 对外接口：0

| 编号                            | 需求描述                                     |
| ----------------------------- | ---------------------------------------- |
| Cost.Build                    | 在财务人员要求新建一张现金费用单时**（查询）**，系统要生成一张现金费用单据**（输出）** |
| Cost.Commit.Valid             | 在财务人员填写正确提交时**（输入；查询）**，系统要进行操作日志记录（见Cost.Log），并将单据交给审批程序（见Cost.Approve） |
| Cost.Commit.Account.NotEnough | 在财务人员选择的账户余额不足时**（输入）**，系统要提示余额不足（输出）    |
| Cost.Commit.Num.Invalid       | 在财务人员输入的金额中包含非数字时**（输入）**，系统要提示输入非法**（输出）** |
| Cost.Commit.Incomplete        | 在单据未填写完所有内容时，系统不予响应                      |
| Cost.Cancel                   | 在财务人员要取消建立当前单据时**（查询）**，系统要退出当前填写任务      |
| Cost.Approve                  | 系统将提交的单据交给审批程序进行审批                       |
| Cost.Approve.Pass             | 单据审批通过后，系统给财务人员发送通过消息**（输出）**，将单据入账（参见Cost.Record），进行操作日志记录（Cost.Log），并更新账户余额（参见Cost.Update.Account） |
| Cost.Approve.Reject           | 单据审批不通过，系统给财务人员发送不通过消息，并进行操作日志记录（参见AccountInOut.Log） |
| Cost.Approve.Modify           | 在财务人员提交的单据审批不通过请求修改时**（查询）**，系统要将未通过的单据显示**（输出；逻辑文件）**，提供重新编辑的机会，让财务人员重新提交（参见AccountInOut.Commit） |
| Cost.Record                   | 系统将单据入账，记录单据的详细信息**（逻辑文件）**              |
| Cost.Log                      | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| Cost.Update.Account           | 现金费用单入账后，系统要对账户余额进行更新**（逻辑文件）**          |

## 期初建账

- 输入：0
- 输出：1
- 查询：2
- 逻辑文件：2
- 对外接口：0

| 编号                  | 需求描述                                     |
| ------------------- | ---------------------------------------- |
| InitialBuild.Build  | 当财务人员请求期初建账时**（查询）**，系统要从以往账户中导入信息**（逻辑文件）**，计算并生成新的账目**（输出）** |
| InitialBuild.Record | 当期初建账完成时，系统要将期初信息单独保存在一个专用文件中**（逻辑文件）**  |
| InitialBuild.Cancel | 在财务人员取消期初建账时**（查询）**，系统要关闭期初建账任务         |

## 审批单据

- 输入：2
- 输出：9
- 查询：10
- 逻辑文件：7
- 对外接口：0
- 功能点FP=171.15

| 编号                                 | 需求描述                                     |
| ---------------------------------- | ---------------------------------------- |
| ApproveDocument.Show               | 当总经理申请审批单据**（查询）**时，系统显示所有处于提交状态的单据**（输出；逻辑文件）** |
| ApproveDocument.Detail             | 当总经理选择查看某一项具体单据时**（查询）**，系统显示该单据的具体内容**（输出；逻辑文件）** |
| ApproveDocument.Approve            | 当总经理通过正在查看的单据后**（查询）**，系统要将将该单据变为审批后状态并更新信息（参见ApproveDocument.Update），记录操作日志（参见ApproveDocument.Log），向相关人员发送消息（参见ApproveDocument.Inform），显示待审批单据列表界面（参见ApproveDocument.Show） |
| ApproveDocument.Approve.Null       | 当总经理未选择任何单据直接选择通过时，系统提示未选择单据**（输出）**，并回退到单据列表显示界面**（输出）** |
| ApproveDocument.Reject             | 当总经理驳回正在查看的单据**（查询）**后，系统要求总经理填写审批意见**（逻辑文件）**并将该单据变为审批未通过状态并更新信息（参见ApproveDocument.Update），记录操作日志（参见ApproveDocument.Log），向相关人员发送消息（参见ApproveDocument.Inform），显示待审批单据列表界面（参见ApproveDocument.Show） |
| ApproveDocument.Reject.Null        | 当总经理未选择任何单据直接选择驳回时，系统提示未选择单据**（输出）**，并回退到单据列表显示界面**（输出）** |
| ApproceDocument.Modify             | 当总经理发出修改请求后**（查询）**，系统复制一份该单据供总经理编辑 **（输出；逻辑文件）** |
| ApprovrDocument.Modifiy.Cancel     | 当总经理在修改单据过程中想要撤销本次修改时**（查询）**，系统删除该版本，并显示原单据具体内容（参见Approve.Detail） |
| ApproveDocument.CompleteAndSave    | 当总经理完成修改想要保存时**（输入；查询）**，系统用修改后的版本替换原单据并更新信息（参见ApproveDocument.Update），并显示待审批单据列表（参见ApproveDocument.Show），记录操作日志（参见ApproveDocument.Log） |
| ApproveDocument.CompleteAndApprove | 当总经理完成修改后要直接通过该单据时**（输入；查询）**，系统将该单据变为审批后单据并更新信息（参见ApproveDocument.Update），记录操作日志（参见ApproveDocument.Log），向相关人员发送消息（参见ApproveDocument.Inform），显示待审批单据列表界面（参见ApproveDocument.Show） |
| ApproveDocument.MassApprove        | 当总经理在单据列表界面想批量审批单据时**（查询）**，系统将所选择的单据都变为审批后状态并更新信息（参见ApproveDocument.Update），记录操作日志（参见ApproveDocument.Log），向相关人员发送消息（参见ApproveDocument.Inform），显示待审批单据列表界面（参见ApproveDocument.Show） |
| ApproveDocument.Update             | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部更新，要么全部不更新 |
| ApproveDocument.Update.Content     | 系统更新单据内容信息**（逻辑文件）**                     |
| ApproveDocument.Update.Status      | 系统更新单据状态信息**（逻辑文件）**                     |
| ApproveDocument.Update.Status      | 系统更新单据列表信息**（逻辑文件）**                     |
| ApproveDocument.Log                | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| ApproveDocument.Inform             | 系统在总经理对单据进行完审批后要能够对相关人员发送消息通知**（逻辑文件）**  |
| ApproveDocument.Inform.Approve     | 当总经理审批通过后，系统要向相关人员发送审批通过消息**（输出）**       |
| ApproveDocument.Inform.Reject      | 当总经理审批不通过时，系统要向相关人员发送审批不通过消息以及总经理的审批意见**（输出）** |
| ApproveDocument.Exit               | 系统允许用户退出当前任务**（查询）**                     |
| ApproveDocument.Input              | 系统允许用户进行键盘输入                             |



## 查看销售明细表

- 输入：1
- 输出：6
- 查询：6
- 逻辑文件：2
- 对外接口：0
- 功能点FP=81.9

| 编号                        | 需求描述                                     |
| ------------------------- | ---------------------------------------- |
| SaleDetail.Show           | 当用户请求查看销售明细表**（查询）**时，系统按时间顺序显示所有商品销售记录**（输出；逻辑文件）** |
| SaleDetail.Filter         | 系统允许用户按照自己的需求设置单据的筛选条件**（输入；查询）**（时间区间、商品名、客户、仓库、业务员） |
| SaleDetail.Filter.Invalid | 当用户确认筛选条件时**（查询）**，若筛选条件非法（如起始时间晚于终止时间等），则系统应该提示筛选条件非法**（输出）**并重新回到设置筛选条件界面**（查询；输出）** |
| SaleDetail.Filter.Null    | 当用户未设置筛选条件就直接确认时，系统提示筛选条件为空**（输出）**      |
| SaleDetail.Filter.Show    | 当用户确认筛选条件并确认合法后，系统需要显示所有符合条件的商品销售记录**（输出）** |
| SaleDetail.Export         | 当用户请求导出报表时**（查询）**，系统需要按用户所选的目录生成EXCEL**（输出）**文件并记录操作日志（参见SaleDetail.Log） |
| SaleDetail.Exit           | 系统允许用户退出当前任务**（查询）**                     |
| SaleDetail.Log            | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| SaleDetail.Input          | 系统允许用户进行键盘输入                             |

## 查看经营历程表

- 输入：1
- 输出：6
- 查询：6
- 逻辑文件：2
- 对外接口：0
- 功能点FP=81.9

| 编号                             | 需求描述                                     |
| ------------------------------ | ---------------------------------------- |
| BusinessHistory.Show           | 当用户请求查看经营历程表时**（查询）**，系统按时间顺序显示所有商品销售记录**（输出；逻辑文件）** |
| BusinessHistory.Filter         | 系统允许用户按照自己的需求设置单据的筛选条件**（查询；输入）**（时间区间、单据类型、客户、业务员、仓库） |
| BusinessHistory.Filter.Null    | 当用户未设置筛选条件就直接确认时，系统提示筛选条件为空**（输出）**      |
| BusinessHistory.Filter.Invalid | 当用户确认筛选条件时**（查询）**，若筛选条件非法（如起始时间晚于终止时间等），则系统应该提示筛选条件非法**（输出）**并重新回到设置筛选条件界面**（查询；输出）** |
| BusinessHistory.Filter.Show    | 当用户确认筛选条件并确认合法后，系统需要显示所有符合条件的商品销售记录**（输出）** |
| BusinessHistory.Export         | 当用户请求导出报表时**（查询）**，系统需要按用户所选的目录生成EXCEL文件**（输出）**并记录操作日志（参见BusinessHistory.Log） |
| BusinessHistory.Exit           | 系统允许用户退出当前任务**（查询）**                     |
| BusinessHistory.Log            | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| BusinessHistory.Input          | 系统允许用户进行键盘输入                             |

## 查看经营情况表

- 输入：1
- 输出：6
- 查询：6
- 逻辑文件：2
- 对外接口：0
- 功能点FP=81.9

| 编号                               | 需求描述                                     |
| -------------------------------- | ---------------------------------------- |
| BusinessCondition.Show           | 当用户请求查看经营情况表时**（查询）**，系统默认显示过去一个月内的收支信息**（输出；逻辑文件）** |
| BusinessCondition.Filter         | 系统允许用户按照自己的需求设置筛选条件（时间段）**（查询；输入）**      |
| BusinessCondition.Filter.Null    | 当用户未设置筛选条件就直接确认时，系统提示筛选条件为空**（输出）**      |
| BusinessCondition.Filter.Show    | 当用户确认筛选条件并确认合法后**（查询）**，系统应显示符合条件的所有收支信息**（输出）** |
| BusinessCondition.Filter.Invalid | 当用户确认筛选条件但条件非法（如起始时间晚于终止时间等）后，系统应提示用户所输入条件非法**（输出）**并重新回到设置筛选条件界面**（查询；输出）** |
| BusinessCondition.Export         | 当用户请求导出报表时**（查询）**，系统需要按用户所选的目录生成EXCEL文件**（输出）**并记录操作日志（参见BusinessCondition.Log） |
| BusinessCondition.Exit           | 系统允许用户退出当前任务**（查询）**                     |
| BusinessCondition.Log            | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| BusinessCondition.Input          | 系统允许用户键盘输入                               |

## 管理促销策略

- 输入：2
- 输出：8
- 查询：9
- 逻辑文件：7
- 对外接口：0
- 功能点FP=161.7

| 编号                                | 需求描述                                     |
| --------------------------------- | ---------------------------------------- |
| PromotionStrategy.Input           | 系统允许总经理进行键盘输入                            |
| PromotionStrategy.Show            | 总经理请求查看已有的促销策略时**（查询）**，系统应以列表形式显示所有的促销策略**（输出；逻辑文件）** |
| PromotionStrategy.Detail          | 总经理在列表选择某项策略查看具体内容时**（查询）**，系统应显示该单据的具体内容**（输出）** |
| PromotionStrategy.Modify          | 系统允许总经理对当前促销策略进行修改                       |
| PromotionStrategy.Modify.Save     | 总经理保存修改好的促销策略时**（查询；输入）**，系统保存该版本**（逻辑文件）**并替换掉系统中原来的版本（参见PromotionStrategy.Save），更新信息（参见PromotionStrategy.Update） |
| PromotionStrategy.Modify.Cancel   | 当总经理在修改单据过程中想要撤销本次修改时**（查询）**，系统不保存该版本，并显示原单据具体内容**（输出）**（参见PromotionStrategy.Detail） |
| PromotionStrategy.Delete          | 当总经理请求删除掉所选择的促销策略时**（查询）**，系统应删除该促销策略**（逻辑文件）**，更新信息（参见PromotionStrategy.Update）并重新显示销售策略列表**（输出）** |
| PromotionStrategy.Delete.Null     | 当总经理没选择任何策略直接点击删除时，系统提示未选择任何单据**（输出）**，并回退到单据列表界面**（输出）** |
| PromotionStrategy.New             | 当总经理请求新建一个促销策略时**（查询）**，系统应新建一个促销策略供总经理编辑**（输出）** |
| PromotionStartegy.Save            | 系统允许总经理保存当前界面的促销策略                       |
| PromotionStrategy.Save.Valid      | 当总经理保存一个输入合法的促销策略时**（查询；输入）**，生成该促销策略文件**（逻辑文件）**，更新信息（参见PromotionStrategy.Update），记录操作日志（参见PromotionStrategy.Log） |
| PromotionStrategy.Save.Invalid    | 当总经理保存一个含非法输入的促销策略时，系统提示输入非法（如商品数量为小数等）**（输出）**，回退到该促销策略界面**（查询）** |
| PromotionStrategy.Exit            | 系统允许用户退出当前任务**（查询）**                     |
| PromotionStrategy.Update          | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部更新，要么全部不更新 |
| PromotionStrategy.Update.Strategy | 系统更新销售策略信息**（逻辑文件）**                     |
| PromotionStrategy.Update.List     | 系统更新销售策略**（逻辑文件）**                       |
| PromotionStrategy.Log             | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |

## 查询日志

- 输入：0
- 输出：2
- 查询：3
- 逻辑文件：2
- 对外接口：0
- 功能点FP=44.1

| 编号              | 需求描述                                     |
| --------------- | ---------------------------------------- |
| QueryLog.Show   | 用户发出查询日志请求后**（查询）**，系统应以列表形式显示日志**（输出；逻辑文件）** |
| QueryLog.Detail | 用户选择某一项具体日志时**（查询）**，系统应显示日志详情**（输出；逻辑文件）** |
| QueryLog.Exit   | 系统允许用户退出当前任务**（查询）**                     |



## 系统用户信息管理

- 输入：5
- 输出：10
- 查询：7
- 逻辑文件：4
- 对外接口：0

| 编号                     | 需求描述                                     |
| :--------------------- | :--------------------------------------- |
| Admin.User.List        | 在管理员请求查看用户列表时**（查询；逻辑文件）**，系统要显示完整用户列表**（输出）** |
| Admin.User.Detail      | 在管理员请求查看详细用户信息时**（查询；逻辑文件）**，系统要显示用户详细信息**（输出）** |
| Admin.Add.Valid        | 在管理员输入添加信息正确时**（输入；查询）**，系统要添加新的用户信息（参见Admin.Update），并记录操作，参见Admin.Log |
| Admin.Add.Invalid      | 在管理员输入添加用户信息不正确时**（输入）**，系统提示输入无效**（输出）** |
| Admin.Add.Duplicate    | 在管理员添加重名账号时，系统要提示错误**（输出）**，要求重新输入用户名    |
| Admin.Delete.User      | 在管理员选择用户进行删除时**（查询）**，系统要删除选中用户，显示“删除成功”**（输出）**，更新信息（参见Admin.Update），并记录操作，参见Admin.Log |
| Admin.Delete.Null      | 在管理员未选中用户就进行删除时，系统不予响应                   |
| Admin.Search.Account   | 在管理员输入关键字进行搜索且存在匹配项时**（输入；查询）**，系统显示匹配的用户**（输出）** |
| Admin.Search.Null      | 在管理员输入关键字进行搜素不存在匹配项时，系统提示无匹配项**（输出）**    |
| Admin.Search.Nokeyword | 在管理员不输入任何关键字进行搜索时，系统提示需要输入关键字**（输出）**    |
| Admin.Modify.Valid     | 在管理员修改某用户信息且输入合法时**（输入；查询）**，系统要更新该用户信息（参见Admin.Update），并记录操作（参见Admin.Log） |
| Admin.Modify.Invalid   | 在管理员修改某用户信息单输入不合法时**（输入）**，系统要提示错误**（输出）** |
| Admin.Modify.Duplicate | 在管理员修改用户名与其他用户名重复时，系统要提示错误**（输出）**，要求重新输入用户名 |
| Admin.Cancel           | 在管理员取消当前操作时**（查询）**，系统要退出当前任务            |
| Admin.Log              | 系统记录操作的详细信息，包括时间，操作人，行为，结果**（逻辑文件）**     |
| Admin.Update           | 系统更新用户信息**（逻辑文件）**                       |