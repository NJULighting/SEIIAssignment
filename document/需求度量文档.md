# 需求度量

功能点合计：2497


## 商品分类管理

- 输入：2
- 输出：10
- 查询：6
- 逻辑文件：5
- 对外接口：0
- 功能点FP=178.3

| 编号                                       | 需求描述                                     |
| ---------------------------------------- | ---------------------------------------- |
| ManageCategory.Category.RootList         | 在库存管理人员请求查看库存分类信息（查询）时，显示根分类（输出；逻辑文件）    |
| ManageCategory.Category.SubList          | 在库存管理人员请求查看某一分类的子分类（查询）时，如果为最低级分类，显示分类下商品，否则显示子分类（输出；逻辑文件） |
| ManageCategory.Log                       | 系统记录操作的详细信息，包括时间，操作人，行为和结果（逻辑文件）         |
| ManageCategory.Update                    | 系统更新库存信息（逻辑文件）                           |
| ManageCategory.Add.Valid                 | 在库存管理人员在没有商品的最低级分类/非最低级分类下添加分类时（输入；查询），显示添加过分类的分类信息（输出），系统更新库存（见ManageCategory.Update），记录操作信息（ManageCategory.Log） |
| ManageCategory.Add.InValid               | 在库存管理人员在有商品的最低级分类中添加分类时，系统提示错误，恢复到该操作之前的分类信息（输出） |
| ManageCategory.Modify.Valid              | 在库存管理人员修改商品分类（输入；查询），并且修改后的分类名称和当前父分类下其他的分类不存在名称冲突时，显示修改过分类的分类信息（输出），系统更新库存（见ManageCategory.Update），记录操作信息（ManageCategory.Category.Log） |
| ManageCategory.Modify.Invalid            | 在库存管理人员修改商品分类，并且修改后的分类名称和当前父分类下其他的分类存在名称冲突时，系统提示错误，恢复到该操作之前的分类信息（输出） |
| ManageCategory.Delete.Valid              | 在库存管理人员选择没有商品的最低级分类，删除分类时，系统显示删除过分类的分类信息（查询；输出），系统更新库存（见ManageCategory.Update），记录操作信息（ManageCategory.Category.Log） |
| ManageCategory.Delete.Invalid            | 在库存管理人员删除非最低级分类时，系统显示错误，恢复到操作之前的显示内容（输出） |
| ManageCategory.Category.UpperList.Valid  | 当库存管理人员在当前分类不是根分类时请求查看当前分类的父级分类（查询，逻辑文件），系统显示当前分类父级分类下的分类（输出） |
| ManageCategory.Category.UpperList.Invalid | 当库存管理人员在当前分类是根分类时请求查看当前分类的父级分类，系统提示“当前分类不存在父级分类”（输出） |



## 商品管理

- 输入：4
- 输出：14
- 查询：8
- 逻辑文件：7
- 对外接口：0
- 功能点FP=257.9

| 编号                                      | 需求描述                                     |
| --------------------------------------- | ---------------------------------------- |
| ManageItems.Category.RootList           | 在库存管理人员请求商品管理（查询）时，系统显示所有商品分类的根目录（输出；逻辑文件） |
| ManageItems.Category.SubList            | 在库存管理人员请求查看某一分类的子分类时（查询），如果为最低级分类，显示分类下商品列表，否则显示子分类（输出；逻辑文件） |
| ManageItems.Log                         | 系统记录操作的详细信息，包括时间，操作人，行为和结果（逻辑文件）         |
| MangeItems.Update                       | 系统更新商品信息（逻辑文件）                           |
| MangeItems.Add.Valid                    | 在库存管理人员在最低级分类下添加商品（查询；输入）时，系统显示添加过新商品的商品信息（输出），系统更新库存（见ManageItemsUpdate），记录操作信息（ManageItems.Log） |
| ManageItems.Add.Invalid                 | 在库存管理人员在非最低级分类下添加商品时，系统提示错误，恢复到添加商品之前的商品列表（输出） |
| MangeItems.Modfiy.Valid                 | 在库存管理人员修改商品信息（查询；输入），并且商品的名称和型号与同分类下商品没有冲突时，系统显示修改过的商品列表（输出），系统更新库存（见ManageItemsUpdate），记录操作信息（ManageItems.Log） |
| MangeItems.Modify.Invalid               | 在库存管理人员修改商品信息，并且商品名称和型号与商品新分类下商品存在冲突时，系统提示错误，恢复到修改商品信息之前的商品列表（输出） |
| MangeItems.Delete.Valid                 | 在库存管理人员删除商品且商品没有交易记录（查询）、库存也为0时，系统显示删除过商品的商品列表（输出），系统更新库存（见ManageItemsUpdate），记录操作信息（ManageItems.Log） |
| MangeItems.Search.Input                 | 系统应该允许库存管理人员在查找商品时进行键盘输入                 |
| MangeItems.Search.Input.Byname          | 系统应该允许库存管理人员查找商品时用商品名称查找                 |
| MangeItems.Search.Input.Byid            | 系统应当允许库存管理人员查找商品时用商品编号查找                 |
| MangeItems.Search.Input.Byname.Found    | 在库存管理人员使用商品名称查询商品且存在匹配项时（输入；查询），系统显示匹配项（输出；逻辑文件） |
| MangeItems.Search.Input.Byname.Notfound | 在库存管理人员使用商品名称查询商品且不存在匹配项时，系统显示未找到（输出）    |
| MangeItems.Search.Input.Byid.Found      | 在库存管理人员使用商品编号查询商品且存在匹配项时（输入；查询），系统显示匹配项（输出；逻辑文件） |
| MangeItems.Search.Input.Byid.Notfound   | 在库存管理人员使用商品编号查询商品且不存在匹配项时，系统显示未找到（输出）    |
| ManageItems.Delete.Invalid              | 在库存管理人员删除商品且商品存在交易记录或库存不为0时，系统提示错误，恢复到删除操作之前的界面（输出） |
| ManageItems.Category.UpperList.Valid    | 当库存管理人员在当前分类不是根分类时请求查看当前分类的父级分类（查询，逻辑文件），系统显示当前分类父级分类下的分类（输出） |
| ManageItems.Category.UpperList.Invalid  | 当库存管理人员在当前分类是根分类时请求查看当前分类的父级分类，系统提示“当前分类不存在父级分类”（输出） |



## 库存查看

- 输入：0
- 输出：1
- 查询：3
- 逻辑文件：1
- 对外接口：0
- 功能点FP=21.6

| 编号                    | 功能需求                                     |
| --------------------- | ---------------------------------------- |
| StockReview.Selection | 系统应允许库存管理人员（查询）选择开始日期（查询）和结束日期（查询）       |
| StockReview.Show      | 系统显示选中时间内的库存各条出/入库数量/金额，销售/进货的数量/金额，以及各项的合计信息（逻辑文件；输出） |



## 库存盘点

- 输入：0
- 输出：3
- 查询：2
- 逻辑文件：1
- 对外接口：0
- 功能点FP=27.1

| 编号              | 功能需求                                     |
| --------------- | ---------------------------------------- |
| Stocking.Show   | 当库存管理人员请求盘点库存（查询）时，系统显示当日的库存快照，包括当天的各种商品的名称，型号，库存数量，库存均价，批次，批号，出厂日期，并且显示行号（逻辑文件；输出） |
| Stocking.Export | 当库存管理人员请求导出Excel表格时（查询），系统导出Excel表格（输出），并显示Excel表格所在路径（输出） |



## 创建库存报损（报溢）单

- 输入：2
- 输出：7
- 查询：6
- 逻辑文件：2
- 对外接口：0
- 功能点FP=74.8

| 编号                             | 功能需求                                     |
| ------------------------------ | ---------------------------------------- |
| Difference.Input               | 系统允许库存管理人员在创建库存报损（报溢）单时（查询），输入商品数量（输入）   |
| Difference.Select              | 系统允许库存管理人员在创建库存报损（报溢）单时，选择商品（查询）         |
| Difference.Build               | 在库存管理人员创建库存报损（报溢）单时（查询），系统显示空库存报损（报溢）单（逻辑文件；输出） |
| Difference.Select.Items        | 在库存管理人员选择商品后，系统显示填有商品和默认报损（报溢）数量的库存报损单（输出） |
| Differece.Input.Count.Valid    | 在库存管理人员输入商品数量并且输入的商品数量合法时，系统显示填有商品和报损（报溢）数量的库存报损（报溢）单。（输出） |
| Difference.Input.Count.Invalid | 在库存管理人员输入商品数量并且输入的商品数量不合法时，系统显示错误，恢复到填写商品数量之前的界面（输出） |
| Difference.Cancel              | 在库存管理人员想要取消当前库存报损（报溢）单时（查询），系统退出当前任务（输出） |
| Difference.Log                 | 系统记录操作的详细信息，包括时间，操作人，行为和结果（逻辑文件）         |
| Difference.Commit              | 在库存管理人员提交库存报损（报溢）单时（查询），系统显示提交成功（输出），向总经理发送库存报损（报溢）单，并存储日志，参见Difference.Log |
| Difference.Ps                  | 在库存管理人员输入备注信息时，系统显示含有备注信息的库存报损单（输出；输入；查询） |



## 创建库存报警单

- 输入：1
- 输出：6
- 查询：5
- 逻辑文件：3
- 对外接口：0
- 功能点FP=91.5

| 编号                        | 功能需求                                     |
| ------------------------- | ---------------------------------------- |
| Alert.Input               | 系统应该允许库存管理人员在创建库存报警单使用键盘输入（查询；输入）        |
| Alert.Select              | 系统应该允许库存管理人员选择商品（查询）                     |
| Alert.Build               | 在库存管理人员请求创建库存报警单时（查询），系统生成空库存报警单并显示（逻辑文件；输出） |
| Alert.Select.Items        | 在库存管理人员选择商品后，系统显示填有商品和默认警戒数量的库存报警单（输出）   |
| Alert.Input.Count.Valid   | 在库存管理人员输入商品警戒数量并且警戒数量合法时，系统显示填有商品和最新警戒数量的库存报警单（输出） |
| Alert.Input.Count.Invalid | 在库存管理人员输入商品警戒数量并且警戒数量不合法时，系统显示错误，恢复到填写商品数量之前的界面（输出） |
| Alert.Cancel              | 在库存管理人员想要取消当前库存报警单时（查询），系统退出当前任务（输出）     |
| Alert.Commit              | 在库存管理人员提交库存报警单时（查询），系统显示提交成功（输出），存储库存报警单，参见Alert.Update，记录日志，参加Alert.Log |
| Alert.Log                 | 系统记录操作的详细信息，包括时间，操作人，行为和结果（逻辑文件）         |
| Alert.Update              | 系统存储库存报警单（逻辑文件）                          |



## 处理消息

- 输入：0
- 输出：2
- 查询：2
- 逻辑文件：2
- 对外接口：0
- 功能点FP=31.2

| 编号                  | 需求描述                                     |
| ------------------- | ---------------------------------------- |
| History.List        | 当库存管理人员请求查看历史单据（查询）时，系统应当以列表（逻辑文件）的形式，按照时间倒序显示历史单据信息，每条应当包含单据名称、提交时间、审批情况（输出） |
| History.Detail.Show | 当库存管理人员请求显示历史单据详细内容时，系统显示单据的详细内容（逻辑文件）、审批情况、审批意见（查询，输出） |




## 客户管理

- 输入：2
- 输出：10
- 查询：9
- 逻辑文件：7
- 对外接口：0
- 功能点FP=172.2

| 编号                              | 需求功能与度量                                  |
| :------------------------------ | :--------------------------------------- |
| Client.Input                    | 当进货销售人员进行客户管理任务时**（输出：客户管理主界面）**，系统允许进货销售人员进行键盘输入和鼠标点选 |
| Client.Input.Search             | 系统允许进货销售人员在客户管理界面上方的查找框里输入客户编号或关键词来进行客户查找**（查询，输入）**，当进货销售人员进行此操作时，系统要检查输入是否合法并进行客户查找**（输出）**，参见Client.Search |
| Client.Input.Cancel             | 当进货销售人员请求取消命令时，系统关闭当前任务，返回上一个界面          |
| Client.Input.Add                | 当进货销售人员在客户管理界面上请求增加一个客户时**（查询）**，系统开始增加客户任务**（输出）**，参见Client.Add |
| Client.Input.Invalid            | 当进货销售人员输入非法标识时，系统拒绝输入并提示错误，并要求重新输入       |
| Client.Add                      | 当进货销售人员请求增加客户时，系统显示一个客户信息表，允许进货销售人员在信息表上输入客户信息 |
| Client.Add.Calculate            | 当进货销售人员的增加客户请求被允许后，系统自动计算客户编号，以目前存在最大的客户编号加1，第一个客户编号为00001，并显示在客户信息表上的“客户编号”位置，**（逻辑文件）**然后允许进货销售人员在信息表上输入客户信息 |
| Client.Add.Cancel               | 当进货销售人员在客户信息表上请求取消增加客户时**（查询）**，系统关闭增加客户任务**（输出）**，并返回客户管理界面，参见Client.Input |
| Client.Add.End                  | 当进货销售人员在客户信息表上请求完成输入时**（输入）**，系统检查输入的用户信息的合法性 |
| Client.Add.End.Valid            | 当进货销售人员在客户信息表上请求完成输入，且客户信息合法，则系统结束增加客户任务**（输出）**，参见Client.End |
| Client.Add.End.Exist            | 当进货销售人员请求完成输入，但已存在该客户**（逻辑文件）**，则系统提示错误，不允许完成输入 |
| Client.Add.End.Unfinished       | 当进货销售人员请求完成输入，但没有填写“姓名”或“分类”或“级别”的信息**（逻辑文件）**，则系统提示错误，不允许完成输入 |
| Client.Search.start             | 当进货销售人员在客户管理界面上点选查找框时，系统允许进货销售人员在查找框里输入关键词或客户编号来进行客户查找 |
| Client.Search.Valid             | 当进货销售人员输入合法关键词或客户编号时，系统查到到符合结果并以列表方式呈现符合条件的客户，并以客户编号进行排序**（逻辑文件，输出）** |
| Client.Search.Valid.Null        | 当进货销售人员输入合法关键词或客户编号后，系统没有找到符合条件的客户，提示“不存在此客户” |
| Client.Search.Invalid           | 当进货销售人员输入非法关键词或客户编号时，系统拒绝输入并提示错误，要求重新输入，参见Client.Input |
| Client.Search.Valid.Member      | 当系统显示查找结果时，进货销售人员点选列表中的一个客户**（查询）**，则系统显示该客户详细信息**（输出）**，参见Client.Member |
| Client.Member                   | 进货销售人员在列表中点选一名客户，系统显示该客户的详细信息界面          |
| Client.Member.Change            | 当进货销售人员在客户信息界面请求更改客户信息时**（查询）**，系统查询客户的权限，根据权限给予操作员部分信息可修改的权力，**（逻辑文件）**参见Client.Change |
| Client.Member.Delete            | 当进货销售人员在客户信息界面请求删除客户时**（查询）**，系统查询该客户是否处于业务之中，若是，则拒绝修改并提示错误，否则，执行删除客户，提示成功**（逻辑文件；输出）** |
| Client.Member.Delete.Update     | 当进货销售人员完成删除客户任务时**（查询）**，系统更新客户信息，参见Client.Update |
| Client.Member.Return            | 当进货销售人员请求返回时**（查询）**，或完成删除客户提示成功之后1秒，系统返回客户管理界面 |
| Client.Change                   | 当进货销售人员在客户信息界面请求更改客户信息时，系统查询客户的权限，根据权限给予操作员部分信息可修改的权力**（输出）** |
| Client.Change.Authority         | 当操作员拥有最高权限时，系统允许其更改客户的应收额度、分类、级别、姓名、电话、地址、邮编、电子邮箱、默认业务员，不允许更改应收应付 |
| Client.Change.Authority.Invalid | 当进货销售人员输入非法应收额度时，系统提示错误并拒绝输入，要求重新输入      |
| Client.Change.Authority.End     | 当进货销售人员请求输入完成时**（查询）**，系统完成更改客户信息任务**（输出）**，参见Client.End |
| Client.Change.Ordinary          | 当系统使用者没有最高权限时，系统允许更改客户的分类、级别、姓名、电话、地址、邮编、电子邮箱、默认业务员，不允许更改应收应付和应收额度 |
| Client.Change.Ordinary.End      | 当进货销售人员请求输入完成时，系统完成更改客户信息任务，参见Client.End |
| Client.Change.Cancel            | 进货销售人员取消更改客户信息，系统回到显示详细客户信息界面，参见Client.Input |
| Client.End                      | 当进货销售人员在增加或更改任务时请求完成输入，系统结束输入            |
| Client.End.Member               | 当进货销售人员完成增加或更改任务时，系统显示该客户详细资料界面，参见Client.Member |
| Client.End.Update               | 当进货销售人员完成增加或更改任务时，系统更新客户资料库，参见Client.Update |
| Client.Update                   | 当进货销售人员结束客户管理任务时，系统更新客户信息**（逻辑文件）**      |




##制定进货单

- 输入：3
- 输出：5
- 查询：4
- 逻辑文件：5
- 对外接口：0
- 功能点FP=108.15

| 编号                         | 需求描述                                     |
| -------------------------- | ---------------------------------------- |
| Stock.Input                | 系统允许销售人员在执行制定进货单时进行键盘输入和鼠标操作             |
| Stock.Show                 | 当销售人员请求制定一个进货单时**(查询)**，系统打开制定进货单界面**(输出)** |
| Stock.Show.Calculate       | 当制定进货单界面被打开时，系统自动计算并填写好进货单号、操作员、仓库。进货单号的格式为JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号；操作员为当前系统使用者；仓库为默认仓库**(逻辑文件，输出)** |
| Stock.Supplier             | 当销售人员输入供应商时**(输入)**，如果属于供应商的客户里不存在此供应商，则系统提示不存在此供应商，要求重新输入**(逻辑文件)** |
| Stock.Goods                | 当销售人员请求打开入库商品列表时**(查询)**，系统展示商品清单界面**(输出)** |
| Stock.Goods.Select         | 当销售人员选择好商品并确认时**(输入)**，系统关闭商品清单界面，并按照销售人员选择的商品填写进货单中的商品编号、名称、型号、单价，并允许销售人员输入数量**(输出，逻辑文件)** |
| Stock.Goods.Amount         | 当销售人员输入商品的数量时**(输入)**，系统计算各商品的总额 = 单价*数量，并填写在表内**(输出，逻辑文件)** |
| Stock.Goods.Amount.Invalid | 当销售人员输入商品数量为非自然数时，系统提示数量格式错误，要求重新输入      |
| Stock.Cancel               | 当销售人员请求取消制定进货单时**(查询)**，系统关闭任务并返回销售人员管理界面 |
| Stock.Finish               | 当销售人员请求完成进货单时**(查询)**，系统保存进货单并展示进货单给销售人员，将进货单发送给总经理**(逻辑文件)** |
| Stock.Finish.Invalid       | 当销售人员未选择商品、或未填写商品数量、供应商时，系统提示未输入完成       |
| Stock.Finish.Return        | 当销售人员选择返回时，系统返回销售人员管理界面                  |




##制定进货退货单

- 输入：3
- 输出：5
- 查询：4
- 逻辑文件：5
- 对外接口：0
- 功能点FP=108.15

| 编号                               | 需求描述                                     |
| -------------------------------- | ---------------------------------------- |
| StockReturn.Input                | 系统允许销售人员在执行制定进货退货单时进行键盘输入和鼠标操作           |
| StockReturn.Show                 | 当销售人员请求制定一个进货退货单时**(查询)**，系统打开制定进货退货单界面**(输出)** |
| StockReturn.Show.Calculate       | 当制定进货退货单界面被打开时，系统自动计算并填写好进货退货单号、操作员、仓库。进货退货单号的格式为JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号；操作员为当前系统使用者；仓库为默认仓库**(逻辑文件，输出)** |
| StockReturn.Supplier             | 当销售人员输入供应商时**(输入)**，如果属于供应商的客户里不存在此供应商，则系统提示不存在此供应商，要求重新输入**(逻辑文件)** |
| StockReturn.Goods                | 当销售人员请求打开入库商品列表时**(查询)**，系统展示商品清单界面**(输出)** |
| StockReturn.Goods.Select         | 当销售人员选择好商品并确认时**(输入)**，系统关闭商品清单界面，并按照销售人员选择的商品填写进货退货单中的商品编号、名称、型号、单价，并允许销售人员输入数量**(输出，逻辑文件)** |
| StockReturn.Goods.Amount         | 当销售人员输入商品的数量时**(输入)**，系统计算各商品的总额 = 单价*数量，并填写在表内**(输出，逻辑文件)** |
| StockReturn.Goods.Amount.Invalid | 当销售人员输入商品数量为非自然数时，系统提示数量格式错误，要求重新输入      |
| StockReturn.Cancel               | 当销售人员请求取消制定进货退货单时**(查询)**，系统关闭任务并返回销售人员管理界面 |
| StockReturn.Finish               | 当销售人员请求完成进货退货单时**(查询)**，系统保存进货退货单并展示进货退货单给销售人员，将进货退货单发送给总经理**(逻辑文件)** |
| StockReturn.Finish.Invalid       | 当销售人员未选择商品、或未填写商品数量、供应商时，系统提示未输入完成       |
| StockReturn.Finish.Return        | 当销售人员选择返回时，系统返回销售人员管理界面                  |




## 制定销售单

- 输入：6
- 输出：8
- 查询：4
- 逻辑文件：6
- 对外接口：0
- 功能点FP=147

| 编号                        | 需求描述                                     |
| ------------------------- | ---------------------------------------- |
| Sale.Input                | 系统允许销售人员在执行制定销售单时进行键盘输入和鼠标操作             |
| Sale.Show                 | 当销售人员请求制定一个销售单时**(查询)**，系统打开制定销售单界面**(输出)** |
| Sale.Show.Calculate       | 当制定销售单界面被打开时，系统自动计算并填写好销售单号、操作员、仓库。销售单号的格式为XSD-yyyyMMdd-xxxxx，后五位每天从1开始编号；操作员为当前系统使用者；仓库为默认仓库**(输出，逻辑文件)** |
| Sale.Client               | 当销售人员输入客户姓名时**(输入)**，系统根据客户信息填写好业务员，为客户的默认业务员**(输出，逻辑文件)** |
| Sale.Goods                | 当销售人员请求打开出货商品清单时**(查询)**，系统展示商品清单界面**(输出)** |
| Sale.Goods.Select         | 当销售人员选择好商品并确认时**(输入)**，系统关闭商品清单界面，并按照销售人员选择的商品填写销售单中的商品编号、名称、型号、单价**(输出)** |
| Sale.Goods.Amount         | 当销售人员输入商品的数量时**(输入)**，系统计算各商品的折让前总额 = 单价*数量，并填写在表内 **(输出，逻辑文件)** |
| Sale.Goods.Amount.Invalid | 当销售人员输入商品数量为非自然数时**(输入)**，系统提示数量格式错误，要求重新输入**(逻辑文件)** ，并允许销售人员输入数量 |
| Sale.Discount             | 当销售人员输入折让或使用代金券金额时**(输入)**，系统计算折让后总额 = 折让前总额 - 折让 - 代金券金额，并填写在表内 **(输出，逻辑文件)** ；当折让 + 代金券金额大于折让前总额时，折让后总额为0 |
| Sale.Discount.Invalid     | 当销售人员输入的折让大于其能设置的最大值时，系统提示折让超出限额，要求重新输入  |
| Sale.Cancel               | 当销售人员请求取消制定销售单时**(查询)**，系统关闭任务并返回销售人员管理界面 |
| Sale.Finish               | 当销售人员请求完成销售单时**(查询)**，系统保存销售单并展示销售单给销售人员，将销售单发送给总经理 **(输出，逻辑文件)** |
| Sale.Finish.Return        | 当销售人员选择返回时**(输入)**，系统返回销售人员管理界面          |
| Sale.Finish.Invalid       | 当销售人员未选择商品、或未填写商品数量、客户时，系统提示未输入完成        |




## 制定销售退货单

- 输入：6
- 输出：8
- 查询：4
- 逻辑文件：6
- 对外接口：0
- 功能点FP=147

| 编号                              | 需求描述                                     |
| ------------------------------- | ---------------------------------------- |
| SaleReturn.Input                | 系统允许销售人员在执行制定销售退货单时进行键盘输入和鼠标操作           |
| SaleReturn.Show                 | 当销售人员请求制定一个销售退货单时**(查询)**，系统打开制定销售退货单界面**(输出)** |
| SaleReturn.Show.Calculate       | 当制定销售退货单界面被打开时，系统自动计算并填写好销售退货单号、操作员、仓库。销售退货单号的格式为XSD-yyyyMMdd-xxxxx，后五位每天从1开始编号；操作员为当前系统使用者；仓库为默认仓库**(输出，逻辑文件)** |
| SaleReturn.Client               | 当销售人员输入客户姓名时**(输入)**，系统根据客户信息填写好业务员，为客户的默认业务员**(输出，逻辑文件)** |
| SaleReturn.Goods                | 当销售人员请求打开出货商品清单时**(查询)**，系统展示商品清单界面**(输出)** |
| SaleReturn.Goods.Select         | 当销售人员选择好商品并确认时**(输入)**，系统关闭商品清单界面，并按照销售人员选择的商品填写销售退货单中的商品编号、名称、型号、单价**(输出)** |
| SaleReturn.Goods.Amount         | 当销售人员输入商品的数量时**(输入)**，系统计算各商品的折让前总额 = 单价*数量，并填写在表内 **(输出，逻辑文件)** ，并允许销售人员输入数量 |
| SaleReturn.Goods.Amount.Invalid | 当销售人员输入商品数量为非自然数时**(输入)**，系统提示数量格式错误，要求重新输入**(逻辑文件)** |
| SaleReturn.Discount             | 当销售人员输入折让或使用代金券金额时**(输入)**，系统计算折让后总额 = 折让前总额 - 折让 - 代金券金额，并填写在表内 **(输出，逻辑文件)** ；当折让 + 代金券金额大于折让前总额时，折让后总额为0 |
| SaleReturn.Discount.Invalid     | 当销售人员输入的折让大于其能设置的最大值时，系统提示折让超出限额，要求重新输入  |
| SaleReturn.Cancel               | 当销售人员请求取消制定销售退货单时**(查询)**，系统关闭任务并返回销售人员管理界面 |
| SaleReturn.Finish               | 当销售人员请求完成销售退货单时**(查询)**，系统保存销售退货单并展示销售退货单给销售人员，将销售退货单发送给总经理 **(输出，逻辑文件)** |
| SaleReturn.Finish.Return        | 当销售人员选择返回时**(输入)**，系统返回销售人员管理界面          |
| Sale.Finish.Invalid             | 当销售人员未选择商品、或未填写商品数量、客户时，系统提示未输入完成        |




## 账户管理

- 输入：3
- 输出：13
- 查询：7
- 逻辑文件：3
- 对外接口：0
- 功能点FP=141.75

| 编号                             | 需求描述                                     |
| :----------------------------- | :--------------------------------------- |
| ManageAccount.Account.List     | 在财务人员请求查看账户列表时**（查询；逻辑文件）**，系统要显示完整账户列表**（输出）** |
| ManageAccount.Account.Detail   | 在财务人员请求查看详细账户信息时**（查询）**，系统要显示账户详细信息**（输出）** |
| ManageAccount.Add.Valid        | 在财务人员输入添加信息正确时**（输入；查询）**，系统要添加新的账户信息（参见ManageAccount.Update），并记录操作，参见ManageAccount.Log |
| ManageAccount.Add.Invalid      | 在财务人员输入添加账户信息不正确时，系统提示输入无效**（输出）**       |
| ManageAccount.Add.Duplicate    | 在财务人员添加重名账户时，系统要提示存在重名账户，要求重核心输入**（输出）** |
| ManageAccount.Delete.Account   | 在财务人员选择账户进行删除时**（查询）**，系统要删除选中账户，显示“删除成功”**（输出）**，更新信息（参见ManageAccount.Update），并记录操作，参见ManageAccount.Log |
| ManageAccount.Delete.Null      | 在财务人员未选中账户就进行删除时，系统要提示为选择账户**（输出）**      |
| ManageAccount.Search.Account   | 在财务人员输入关键字进行搜索且存在匹配项时**（查询；输入）**，系统显示匹配的账户**（输出）** |
| ManageAccount.Search.Null      | 在财务人员输入关键字进行搜素不存在匹配项时，系统提示无匹配项**（输出）**   |
| ManageAccount.Search.Nokeyword | 在财务人员不输入任何关键字进行搜索时，系统提示未输入关键字**（输出）**    |
| ManageAccount.Modify.Valid     | 在财务人员修改某账户信息且输入合法时**（查询；输入）**，系统要显示修改成功**（输出）**，更新该账户信息（参见ManageAccount.Update），并记录操作（参见ManageAccount.Log） |
| ManageAccount.Modify.Invalid   | 在财务人员修改某账户信息输入不合法时，系统要提示错误**（输出）**       |
| ManageAccount.Modify.Duplicate | 在财务人员修改账户名称出现重名时，系统要提示错误**（输出）**         |
| ManageAccount.Cancel           | 在财务人员取消当前操作时**（查询）**，系统要退出当前任务**（输出）**   |
| ManageAccount.Log              | 系统记录操作的详细信息，包括时间，操作人，行为，结果**（逻辑文件）**     |
| ManageAccount.Update           | 系统更新账户信息**（逻辑文件）**                       |

## 制定收付款单

- 输入：3
- 输出：6
- 查询：4
- 逻辑文件：4
- 对外接口：0
- 功能点FP=102.9

| 编号                                    | 需求描述                                     |
| :------------------------------------ | ---------------------------------------- |
| AccountInOut.Build                    | 在财务人员要求新建一张收（付）款单时**（查询）**，系统要生成一张单据**（输出）** |
| AccountInOut.Commit.Valid             | 在财务人员填写正确提交时**（输入；查询）**，系统要进行操作日志记录（见AccountInOut.Log），并将单据交给审批程序（见AccountInOut.Approve） |
| AccountInOut.Commit.Account.NotEnough | 在财务人员选择的账户余额不足时**（输入）**，系统要提示余额不足**（输出）** |
| AccountInOut.Commit.Num.Invalid       | 在财务人员输入的金额中包含非数字时**（输入）**，系统要提示输入非法**（输出）** |
| AccountInOut.Commit.Incomplete        | 在单据未填写完所有内容就进行提交时，系统不予响应                 |
| AccountInOut.Cancel                   | 在财务人员要取消建立当前单据时**（查询）**，系统要退出当前填写任务      |
| AccountInOut.Approve                  | 系统将提交的单据交给审批程序进行审批                       |
| AccountInOut.Approve.Pass             | 单据审批通过后，系统给财务人员发送通过消息**（输出）**，更新客户的应收应付数据（参见AccountInOut.Update.Customer），将单据入账（参见AccountInOut.Record） |
| AccountInOut.Approve.Reject           | 单据审批不通过，系统给财务人员发送不通过消息**（输出）**，并进行操作日志记录（参见AccountInOut.Log） |
| AccountInOut.Approve.Modify           | 在财务人员提交的单据审批不通过请求修改时**（查询）**，系统要将未通过的单据显示**（输出；逻辑文件）**，提供重新编辑的机会，让财务人员重新提交（参见AccountInOut.Commit） |
| AccountInOut.Update.Customer          | 系统更新客户应收应付信息**（逻辑文件）**                   |
| AccountInOut.Record                   | 系统将单据入账，记录单据的详细信息**（逻辑文件）**              |
| AccoutnInOut.Log                      | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |

## 制定现金费用单

- 输入：3
- 输出：4
- 查询：4
- 逻辑文件：4
- 对外接口：0
- 功能点FP=92.4

| 编号                            | 需求描述                                     |
| ----------------------------- | ---------------------------------------- |
| Cost.Build                    | 在财务人员要求新建一张现金费用单时**（查询）**，系统要生成一张现金费用单据**（输出）** |
| Cost.Commit.Valid             | 在财务人员填写正确提交时**（输入；查询）**，系统要进行操作日志记录（见Cost.Log），并将单据交给审批程序（见Cost.Approve） |
| Cost.Commit.Account.NotEnough | 在财务人员选择的账户余额不足时**（输入）**，系统要提示余额不足（输出）    |
| Cost.Commit.Num.Invalid       | 在财务人员输入的金额中包含非数字时**（输入）**，系统要提示输入非法**（输出）** |
| Cost.Commit.Incomplete        | 在单据未填写完所有内容时，系统不予响应                      |
| Cost.Cancel                   | 在财务人员要取消建立当前单据时**（查询）**，系统要退出当前填写任务      |
| Cost.Approve                  | 系统将提交的单据交给审批程序进行审批                       |
| Cost.Approve.Pass             | 单据审批通过后，系统给财务人员发送通过消息**（输出）**，将单据入账（参见Cost.Record），进行操作日志记录（Cost.Log），并更新账户余额（参见Cost.Update.Account） |
| Cost.Approve.Reject           | 单据审批不通过，系统给财务人员发送不通过消息，并进行操作日志记录（参见AccountInOut.Log） |
| Cost.Approve.Modify           | 在财务人员提交的单据审批不通过请求修改时**（查询）**，系统要将未通过的单据显示**（输出；逻辑文件）**，提供重新编辑的机会，让财务人员重新提交（参见AccountInOut.Commit） |
| Cost.Record                   | 系统将单据入账，记录单据的详细信息**（逻辑文件）**              |
| Cost.Log                      | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| Cost.Update.Account           | 现金费用单入账后，系统要对账户余额进行更新**（逻辑文件）**          |

## 期初建账

- 输入：0
- 输出：1
- 查询：2
- 逻辑文件：2
- 对外接口：0
- 功能点FP=34.65

| 编号                  | 需求描述                                     |
| ------------------- | ---------------------------------------- |
| InitialBuild.Build  | 当财务人员请求期初建账时**（查询）**，系统要从以往账户中导入信息**（逻辑文件）**，计算并生成新的账目**（输出）** |
| InitialBuild.Record | 当期初建账完成时，系统要将期初信息单独保存在一个专用文件中**（逻辑文件）**  |
| InitialBuild.Cancel | 在财务人员取消期初建账时**（查询）**，系统要关闭期初建账任务         |

## 审批单据

- 输入：2
- 输出：9
- 查询：10
- 逻辑文件：7
- 对外接口：0
- 功能点FP=171.15

| 编号                                 | 需求描述                                     |
| ---------------------------------- | ---------------------------------------- |
| ApproveDocument.Show               | 当总经理申请审批单据**（查询）**时，系统显示所有处于提交状态的单据**（输出；逻辑文件）** |
| ApproveDocument.Detail             | 当总经理选择查看某一项具体单据时**（查询）**，系统显示该单据的具体内容**（输出；逻辑文件）** |
| ApproveDocument.Approve            | 当总经理通过正在查看的单据后**（查询）**，系统要将将该单据变为审批后状态并更新信息（参见ApproveDocument.Update），记录操作日志（参见ApproveDocument.Log），向相关人员发送消息（参见ApproveDocument.Inform），显示待审批单据列表界面（参见ApproveDocument.Show） |
| ApproveDocument.Approve.Null       | 当总经理未选择任何单据直接选择通过时，系统提示未选择单据**（输出）**，并回退到单据列表显示界面**（输出）** |
| ApproveDocument.Reject             | 当总经理驳回正在查看的单据**（查询）**后，系统要求总经理填写审批意见**（逻辑文件）**并将该单据变为审批未通过状态并更新信息（参见ApproveDocument.Update），记录操作日志（参见ApproveDocument.Log），向相关人员发送消息（参见ApproveDocument.Inform），显示待审批单据列表界面（参见ApproveDocument.Show） |
| ApproveDocument.Reject.Null        | 当总经理未选择任何单据直接选择驳回时，系统提示未选择单据**（输出）**，并回退到单据列表显示界面**（输出）** |
| ApproceDocument.Modify             | 当总经理发出修改请求后**（查询）**，系统复制一份该单据供总经理编辑 **（输出；逻辑文件）** |
| ApprovrDocument.Modifiy.Cancel     | 当总经理在修改单据过程中想要撤销本次修改时**（查询）**，系统删除该版本，并显示原单据具体内容（参见Approve.Detail） |
| ApproveDocument.CompleteAndSave    | 当总经理完成修改想要保存时**（输入；查询）**，系统用修改后的版本替换原单据并更新信息（参见ApproveDocument.Update），并显示待审批单据列表（参见ApproveDocument.Show），记录操作日志（参见ApproveDocument.Log） |
| ApproveDocument.CompleteAndApprove | 当总经理完成修改后要直接通过该单据时**（输入；查询）**，系统将该单据变为审批后单据并更新信息（参见ApproveDocument.Update），记录操作日志（参见ApproveDocument.Log），向相关人员发送消息（参见ApproveDocument.Inform），显示待审批单据列表界面（参见ApproveDocument.Show） |
| ApproveDocument.MassApprove        | 当总经理在单据列表界面想批量审批单据时**（查询）**，系统将所选择的单据都变为审批后状态并更新信息（参见ApproveDocument.Update），记录操作日志（参见ApproveDocument.Log），向相关人员发送消息（参见ApproveDocument.Inform），显示待审批单据列表界面（参见ApproveDocument.Show） |
| ApproveDocument.Update             | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部更新，要么全部不更新 |
| ApproveDocument.Update.Content     | 系统更新单据内容信息**（逻辑文件）**                     |
| ApproveDocument.Update.Status      | 系统更新单据状态信息**（逻辑文件）**                     |
| ApproveDocument.Update.Status      | 系统更新单据列表信息**（逻辑文件）**                     |
| ApproveDocument.Log                | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| ApproveDocument.Inform             | 系统在总经理对单据进行完审批后要能够对相关人员发送消息通知**（逻辑文件）**  |
| ApproveDocument.Inform.Approve     | 当总经理审批通过后，系统要向相关人员发送审批通过消息**（输出）**       |
| ApproveDocument.Inform.Reject      | 当总经理审批不通过时，系统要向相关人员发送审批不通过消息以及总经理的审批意见**（输出）** |
| ApproveDocument.Exit               | 系统允许用户退出当前任务**（查询）**                     |
| ApproveDocument.Input              | 系统允许用户进行键盘输入                             |



## 查看销售明细表

- 输入：1
- 输出：7
- 查询：7
- 逻辑文件：2
- 对外接口：0
- 功能点FP=91.4

| 编号                        | 需求描述                                     |
| ------------------------- | ---------------------------------------- |
| SaleDetail.Show           | 当用户请求查看销售明细表**（查询）**时，系统按时间顺序显示所有商品销售记录**（输出；逻辑文件）** |
| SaleDetail.Filter         | 系统允许用户按照自己的需求设置单据的筛选条件**（输入；查询）**（时间区间、商品名、客户、仓库、业务员） |
| SaleDetail.Filter.Invalid | 当用户确认筛选条件时**（查询）**，若筛选条件非法（如起始时间晚于终止时间等），则系统应该提示筛选条件非法**（输出）**并重新回到设置筛选条件界面**（查询；输出）** |
| SaleDetail.Filter.Null    | 当用户未设置筛选条件就直接确认时，系统提示筛选条件为空**（输出）**      |
| SaleDetail.Filter.Show    | 当用户确认筛选条件并确认合法后，系统需要显示所有符合条件的商品销售记录**（输出）** |
| SaleDetail.Detail         | 当用户请求查看某项销售记录时**（查询）**，系统显示该销售记录的具体内容**（输出）** |
| SaleDetail.Export         | 当用户请求导出报表时**（查询）**，系统需要按用户所选的目录生成EXCEL**（输出）**文件并记录操作日志（参见SaleDetail.Log） |
| SaleDetail.Exit           | 系统允许用户退出当前任务**（查询）**                     |
| SaleDetail.Log            | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| SaleDetail.Input          | 系统允许用户进行键盘输入                             |

## 查看经营历程表

- 输入：1
- 输出：7
- 查询：7
- 逻辑文件：2
- 对外接口：0
- 功能点FP=91.4

| 编号                             | 需求描述                                     |
| ------------------------------ | ---------------------------------------- |
| BusinessHistory.Show           | 当用户请求查看经营历程表时**（查询）**，系统按时间顺序显示所有商品销售记录**（输出；逻辑文件）** |
| BusinessHistory.Filter         | 系统允许用户按照自己的需求设置单据的筛选条件**（查询；输入）**（时间区间、单据类型、客户、业务员、仓库） |
| BusinessHistory.Filter.Null    | 当用户未设置筛选条件就直接确认时，系统提示筛选条件为空**（输出）**      |
| BusinessHistory.Filter.Invalid | 当用户确认筛选条件时**（查询）**，若筛选条件非法（如起始时间晚于终止时间等），则系统应该提示筛选条件非法**（输出）**并重新回到设置筛选条件界面**（查询；输出）** |
| BusinessHistory.Filter.Show    | 当用户确认筛选条件并确认合法后，系统需要显示所有符合条件的商品销售记录**（输出）** |
| BusinessHistory.Detail         | 当用户请求**（查询）**查看某项单据时，系统显示该单据的具体内容**（输出）** |
| BusinessHistory.Export         | 当用户请求导出报表时**（查询）**，系统需要按用户所选的目录生成EXCEL文件**（输出）**并记录操作日志（参见BusinessHistory.Log） |
| BusinessHistory.Exit           | 系统允许用户退出当前任务**（查询）**                     |
| BusinessHistory.Log            | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| BusinessHistory.Input          | 系统允许用户进行键盘输入                             |

## 查看经营情况表

- 输入：1
- 输出：6
- 查询：6
- 逻辑文件：2
- 对外接口：0
- 功能点FP=81.9

| 编号                               | 需求描述                                     |
| -------------------------------- | ---------------------------------------- |
| BusinessCondition.Show           | 当用户请求查看经营情况表时**（查询）**，系统默认显示过去一个月内的收支信息**（输出；逻辑文件）** |
| BusinessCondition.Filter         | 系统允许用户按照自己的需求设置筛选条件（时间段）**（查询；输入）**      |
| BusinessCondition.Filter.Null    | 当用户未设置筛选条件就直接确认时，系统提示筛选条件为空**（输出）**      |
| BusinessCondition.Filter.Show    | 当用户确认筛选条件并确认合法后**（查询）**，系统应显示符合条件的所有收支信息**（输出）** |
| BusinessCondition.Filter.Invalid | 当用户确认筛选条件但条件非法（如起始时间晚于终止时间等）后，系统应提示用户所输入条件非法**（输出）**并重新回到设置筛选条件界面**（查询；输出）** |
| BusinessCondition.Export         | 当用户请求导出报表时**（查询）**，系统需要按用户所选的目录生成EXCEL文件**（输出）**并记录操作日志（参见BusinessCondition.Log） |
| BusinessCondition.Exit           | 系统允许用户退出当前任务**（查询）**                     |
| BusinessCondition.Log            | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |
| BusinessCondition.Input          | 系统允许用户键盘输入                               |

## 管理促销策略

- 输入：2
- 输出：8
- 查询：9
- 逻辑文件：7
- 对外接口：0
- 功能点FP=161.7

| 编号                                | 需求描述                                     |
| --------------------------------- | ---------------------------------------- |
| PromotionStrategy.Input           | 系统允许总经理进行键盘输入                            |
| PromotionStrategy.Show            | 总经理请求查看已有的促销策略时**（查询）**，系统应以列表形式显示所有的促销策略**（输出；逻辑文件）** |
| PromotionStrategy.Detail          | 总经理在列表选择某项策略查看具体内容时**（查询）**，系统应显示该单据的具体内容**（输出）** |
| PromotionStrategy.Modify          | 系统允许总经理对当前促销策略进行修改                       |
| PromotionStrategy.Modify.Save     | 总经理保存修改好的促销策略时**（查询；输入）**，系统保存该版本**（逻辑文件）**并替换掉系统中原来的版本（参见PromotionStrategy.Save），更新信息（参见PromotionStrategy.Update） |
| PromotionStrategy.Modify.Cancel   | 当总经理在修改单据过程中想要撤销本次修改时**（查询）**，系统不保存该版本，并显示原单据具体内容**（输出）**（参见PromotionStrategy.Detail） |
| PromotionStrategy.Delete          | 当总经理请求删除掉所选择的促销策略时**（查询）**，系统应删除该促销策略**（逻辑文件）**，更新信息（参见PromotionStrategy.Update）并重新显示销售策略列表**（输出）** |
| PromotionStrategy.Delete.Null     | 当总经理没选择任何策略直接点击删除时，系统提示未选择任何单据**（输出）**，并回退到单据列表界面**（输出）** |
| PromotionStrategy.New             | 当总经理请求新建一个促销策略时**（查询）**，系统应新建一个促销策略供总经理编辑**（输出）** |
| PromotionStartegy.Save            | 系统允许总经理保存当前界面的促销策略                       |
| PromotionStrategy.Save.Valid      | 当总经理保存一个输入合法的促销策略时**（查询；输入）**，生成该促销策略文件**（逻辑文件）**，更新信息（参见PromotionStrategy.Update），记录操作日志（参见PromotionStrategy.Log） |
| PromotionStrategy.Save.Invalid    | 当总经理保存一个含非法输入的促销策略时，系统提示输入非法（如商品数量为小数等）**（输出）**，回退到该促销策略界面**（查询）** |
| PromotionStrategy.Exit            | 系统允许用户退出当前任务**（查询）**                     |
| PromotionStrategy.Update          | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部更新，要么全部不更新 |
| PromotionStrategy.Update.Strategy | 系统更新销售策略信息**（逻辑文件）**                     |
| PromotionStrategy.Update.List     | 系统更新销售策略**（逻辑文件）**                       |
| PromotionStrategy.Log             | 系统要对操作的时间、行为、结果、操作人进行记录**（逻辑文件）**        |

## 查询日志

- 输入：0
- 输出：2
- 查询：3
- 逻辑文件：2
- 对外接口：0
- 功能点FP=44.1

| 编号              | 需求描述                                     |
| --------------- | ---------------------------------------- |
| QueryLog.Show   | 用户发出查询日志请求后**（查询）**，系统应以列表形式显示日志**（输出；逻辑文件）** |
| QueryLog.Detail | 用户选择某一项具体日志时**（查询）**，系统应显示日志详情**（输出；逻辑文件）** |
| QueryLog.Exit   | 系统允许用户退出当前任务**（查询）**                     |



## 系统用户信息管理

- 输入：5
- 输出：10
- 查询：7
- 逻辑文件：4
- 对外接口：0
- 功能点FP=118.7

| 编号                     | 需求描述                                     |
| :--------------------- | :--------------------------------------- |
| Admin.User.List        | 在管理员请求查看用户列表时**（查询；逻辑文件）**，系统要显示完整用户列表**（输出）** |
| Admin.User.Detail      | 在管理员请求查看详细用户信息时**（查询；逻辑文件）**，系统要显示用户详细信息**（输出）** |
| Admin.Add.Valid        | 在管理员输入添加信息正确时**（输入；查询）**，系统要添加新的用户信息（参见Admin.Update），并记录操作，参见Admin.Log |
| Admin.Add.Invalid      | 在管理员输入添加用户信息不正确时**（输入）**，系统提示输入无效**（输出）** |
| Admin.Add.Duplicate    | 在管理员添加重名账号时，系统要提示错误**（输出）**，要求重新输入用户名    |
| Admin.Delete.User      | 在管理员选择用户进行删除时**（查询）**，系统要删除选中用户，显示“删除成功”**（输出）**，更新信息（参见Admin.Update），并记录操作，参见Admin.Log |
| Admin.Delete.Null      | 在管理员未选中用户就进行删除时，系统不予响应                   |
| Admin.Search.Account   | 在管理员输入关键字进行搜索且存在匹配项时**（输入；查询）**，系统显示匹配的用户**（输出）** |
| Admin.Search.Null      | 在管理员输入关键字进行搜素不存在匹配项时，系统提示无匹配项**（输出）**    |
| Admin.Search.Nokeyword | 在管理员不输入任何关键字进行搜索时，系统提示需要输入关键字**（输出）**    |
| Admin.Modify.Valid     | 在管理员修改某用户信息且输入合法时**（输入；查询）**，系统要更新该用户信息（参见Admin.Update），并记录操作（参见Admin.Log） |
| Admin.Modify.Invalid   | 在管理员修改某用户信息单输入不合法时**（输入）**，系统要提示错误**（输出）** |
| Admin.Modify.Duplicate | 在管理员修改用户名与其他用户名重复时，系统要提示错误**（输出）**，要求重新输入用户名 |
| Admin.Cancel           | 在管理员取消当前操作时**（查询）**，系统要退出当前任务            |
| Admin.Log              | 系统记录操作的详细信息，包括时间，操作人，行为，结果**（逻辑文件）**     |
| Admin.Update           | 系统更新用户信息**（逻辑文件）**                       |
