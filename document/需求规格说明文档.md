# 需求规格说明文档

## 引言

### 目的

本文档描述了进销存系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。除特殊说明之外，本文档所包含的需求都是高优先级需求。

### 范围

该进销存系统是为从事灯具照明行业的某民营企业开发的业务系统，开发的目标是系统上线运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。

通过进销存系统的应用，期望能够提高工作效率和用户满意度。

### 参考文献

- IEEE标准
- 进销存系统用例文档1.0

## 总体描述

### 商品前景

#### 背景与机遇

此公司专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。现公司规模扩大，企业业务量、办公场所、员工数都发生增长，需要适应新的环境，从而提高工作效率和用户满意度。

进销存系统就是为该公司的业务发展要求而开发的，它包括一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。用户通过客户端完成日常任务，客户端与数据集中服务器才是实时通信的方式完成数据交换。

#### 业务需求

BR1：系统上线运行六个月后，挤压库存现象减少%20

BR2：系统上线运行六个月后，销售额度增加20%

BR3：系统上线运行六个月后，财务人员工作效率提高50%

BR3：为经理的决策做支持

### 商品功能

SF1：帮助仓库人员进行库存管理（商品分类管理，商品管理，库存查看，库存盘点，库存赠送单，库存报溢单，库存报损单，库存报警单）

SF2：帮助进货销售人员管理客户

SF3：帮助进货销售人员完成进货退货任务

SF4：帮助财务人员管理账户

SF5：帮助财务人员制定单据（收付款单，现金费用单）

SF6：为公司期初建账，管理期初信息

SF7：帮助总经理进行各种单据的审批

SF8：帮助财务人员以及总经理对经营历程，情况以及销售明细进行管理

SF9：帮助总经理进行促销策略的制定

### 用户特征

| 角色     | 特征                                       |
| ------ | ---------------------------------------- |
| 库存管理人员 | 人数为1到2名。负责对商品分类和商品的信息的管理。能够简单使用办公信息化系统。对新系统基本持积极态度，不希望增加现有工作量 |
| 进货销售人员 | 人数为4到8名。负责完成进货单盒销售单。对新系统基本持积极态度，不希望增加现有工作量。 |
| 财务人员   | 人数为1到2名。办公信息化系统较强。对新系统基本持积极态度，不希望增加现有工作量。 |
| 总经理    | 人数为2名。能够熟练使用办公信息化系统。对新系统基本持积极态度，不希望增加现有工作量。 |

### 约束

CON1：系统将运行在Window X操作系统上
CON2：系统不使用Web界面，而是图形界面
CON3：项目要使用持续集成方法进行开发。
CON4：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。

### 假设和依赖

## 详细需求描述

### 对外接口需求

#### 用户界面

待添加

#### 硬件接口

待添加

#### 软件接口

待添加

#### 通信接口

待添加

### 功能需求

#### 客户管理

##### 特性描述

当需要对客户的信息进行管理变更的时候，一名已经被验证的进货销售人员打开客户管理界面，对客户信息进行增删改查操作。

优先级 = 高

##### 刺激/响应序列

刺激：进货销售人员进入客户管理界面

响应：系统按照客户编号排序并显示客户信息列表和其它管理按钮

刺激：进货销售人员点击列表中的某一个客户

响应：系统显示选中客户的具体信息

刺激：进货销售人员在客户具体信息中点选编辑/更改

响应：系统根据使用者权限允许修改部分信息

刺激：进货销售人员输入非法关键词

响应：系统拒绝输入并提示错误

刺激：进货销售人员删除正在处于业务之中的客户

响应：系统拒绝删除并提示错误

##### 相关功能需求

| 编号                              | 需求描述                                     |
| :------------------------------ | :--------------------------------------- |
| Client.Input.Search             | 系统允许进货销售人员在客户管理界面上方的查找框里输入客户编号或关键词来进行客户查找，当进货销售人员进行此操作时，系统要检查输入是否合法并进行客户查找，参见Client.Search |
| Client.Input.Cancel             | 当进货销售人员请求取消命令时，系统关闭当前任务，返回上一个界面          |
| Client.Input.Add                | 当进货销售人员在客户管理界面上请求增加一个客户时，系统开始增加客户任务，参见Client.Add |
| Client.Input.Invalid            | 当进货销售人员输入非法标识时，系统拒绝输入并提示错误，并要求重新输入       |
| Client.Add                      | 当进货销售人员请求增加客户时，系统显示一个客户信息表，允许进货销售人员在信息表上输入客户信息 |
| Client.Add.Calculate            | 当进货销售人员的增加客户请求被允许后，系统自动计算客户编号（以目前存在最大的客户编号加1，第一个客户编号为00001）并显示在客户信息表上的“客户编号”位置，然后允许进货销售人员在信息表上输入客户信息 |
| Client.Add.Cancel               | 当进货销售人员在客户信息表上请求取消增加客户时，系统关闭增加客户任务，并返回客户管理界面，参见Client.Input |
| Client.Add.End                  | 当进货销售人员在客户信息表上请求完成输入时，系统检查输入的用户信息的合法性    |
| Client.Add.End.Valid            | 当进货销售人员在客户信息表上请求完成输入，且客户信息合法，则系统结束增加客户任务，参见Client.End |
| Client.Add.End.Exist            | 当进货销售人员请求完成输入，但已存在该客户，则系统提示错误，不允许完成输入    |
| Client.Add.End.Unfinished       | 当进货销售人员请求完成输入，但没有填写“姓名”或“分类”或“级别”的信息，则系统提示错误，不允许完成输入 |
| Client.Search.start             | 当进货销售人员在客户管理界面上点选查找框时，系统允许进货销售人员在查找框里输入关键词或客户编号来进行客户查找 |
| Client.Search.Valid             | 当进货销售人员输入合法关键词或客户编号时，系统查到到符合结果并以列表方式呈现符合条件的客户，并以客户编号进行排序 |
| Client.Search.Valid.Null        | 当进货销售人员输入合法关键词或客户编号后，系统没有找到符合条件的客户，提示“不存在此客户” |
| Client.Search.Invalid           | 当进货销售人员输入非法关键词或客户编号时，系统拒绝输入并提示错误，要求重新输入，参见Client.Input |
| Client.Search.Valid.Member      | 当系统显示查找结果时，进货销售人员点选列表中的一个客户，则系统显示该客户详细信息，参见Client.Member |
| Client.Member                   | 进货销售人员在列表中点选一名客户，系统显示该客户的详细信息界面          |
| Client.Member.Change            | 当进货销售人员在客户信息界面请求更改客户信息时，系统查询客户的权限，根据权限给予操作员部分信息可修改的权力，参见Client.Change |
| Client.Member.Delete            | 当进货销售人员在客户信息界面请求删除客户时，系统查询该客户是否处于业务之中，若是，则拒绝修改并提示错误，否则，执行删除客户，提示成功 |
| Client.Member.Delete.Update     | 当进货销售人员完成删除客户任务时，系统更新客户资料库，参见Client.Update |
| Client.Member.Return            | 当进货销售人员请求返回时，或完成删除客户并提示成功之后1秒，系统返回客户管理界面 |
| Client.Change                   | 当进货销售人员在客户信息界面请求更改客户信息时，系统查询客户的权限，根据权限给予操作员部分信息可修改的权力 |
| Client.Change.Authority         | 当操作员拥有最高权限时，系统允许其更改客户的应收额度、分类、级别、姓名、电话、地址、邮编、电子邮箱、默认业务员，不允许更改应收应付 |
| Client.Change.Authority.Invalid | 当进货销售人员输入非法应收额度时，系统提示错误并拒绝输入，要求重新输入      |
| Client.Change.Authority.End     | 当进货销售人员请求输入完成时，系统完成更改客户信息任务，参见Client.End |
| Client.Change.Ordinary          | 当系统使用者没有最高权限时，系统允许更改客户的分类、级别、姓名、电话、地址、邮编、电子邮箱、默认业务员，不允许更改应收应付和应收额度 |
| Client.Change.Ordinary.End      | 当进货销售人员请求输入完成时，系统完成更改客户信息任务，参见Client.End |
| Client.Change.Cancel            | 进货销售人员取消更改客户信息，系统回到显示详细客户信息界面，参见Client.Input |
| Client.End                      | 当进货销售人员在增加或更改任务时请求完成输入，系统结束输入            |
| Client.End.Member               | 当进货销售人员完成增加或更改任务时，系统显示该客户详细资料界面，参见Client.Member |
| Client.End.Update               | 当进货销售人员完成增加或更改任务时，系统更新客户资料库，参见Client.Update |




#### 账户管理

##### 特性描述

在需要对公司的账户进行管理时，一个经过验证且被授予最高权限的财务人员可以对公司的账户进行增加账户，删除账户，查询账户和修改账户属性的操作。

优先级 = 高

##### 刺激/响应序列

刺激：财务人员请求查看公司账户信息

响应：系统显示公司账户列表

刺激：财务人员请求增加新的账户，输入新账户的名称和金额

响应：系统更新数据，显示新建账户信息，并记录操作日志

刺激：财务人员要求查询账户，输入关键字

响应：系统显示匹配结果

刺激：财务人员选择具体账户进行查看

响应：系统显示该账户详细信息

刺激：财务人员删除所选账户

响应：系统删除该账户信息，并记录操作日志

刺激：财务人员取消管理账户

响应：系统关闭账户管理任务

刺激：财务人员要求修改账户，并输入修改信息

响应：系统更新数据，显示新的账户信息，并记录操作日志

刺激：财务人员添加重名账户或修改账户名称时出现重名

响应：系统提示存在同名账户，要求重新输入

刺激：财务人员新建修改账户时输入的名称中含有非法字符（字母、数字及中文以外的字符）或输入金额中含有非数字

响应：系统提示输入非法，要求正确填写

##### 相关功能需求

| 编号                             | 需求描述                                     |
| :----------------------------- | :--------------------------------------- |
| ManageAccount.Account.List     | 在财务人员请求查看账户列表时，系统要显示完整账户列表               |
| ManageAccount.Account.Detail   | 在财务人员请求查看详细账户信息时，系统要显示账户详细信息             |
| ManageAccount.Add.Valid        | 在财务人员输入添加信息正确时，系统要添加新的账户信息（参见ManageAccount.Update），并记录操作，参见ManageAccount.Log |
| ManageAccount.Add.Invalid      | 在财务人员输入添加账户信息不正确时，系统提示输入无效               |
| ManageAccount.Add.Duplicate    | 在财务人员添加重名账户时，系统要提示存在重名账户，要求重核心输入         |
| ManageAccount.Delete.Account   | 在财务人员选择账户进行删除时，系统要删除选中账户，显示“删除成功”，更新信息（参见ManageAccount.Update），并记录操作，参见ManageAccount.Log |
| ManageAccount.Delete.Null      | 在财务人员未选中账户就进行删除时，系统要提示为选择账户              |
| ManageAccount.Search.Account   | 在财务人员输入关键字进行搜索且存在匹配项时，系统显示匹配的账户          |
| ManageAccount.Search.Null      | 在财务人员输入关键字进行搜素不存在匹配项时，系统提示无匹配项           |
| ManageAccount.Search.Nokeyword | 在财务人员不输入任何关键字进行搜索时，系统提示未输入关键字            |
| ManageAccount.Modify.Valid     | 在财务人员修改某账户信息且输入合法时，系统要显示修改成功，更新该账户信息（参见ManageAccount.Update），并记录操作（参见ManageAccount.Log） |
| ManageAccount.Modify.Invalid   | 在财务人员修改某账户信息输入不合法时，系统要提示错误               |
| ManageAccount.Modify.Duplicate | 在财务人员修改账户名称出现重名时，系统要提示错误                 |
| ManageAccount.Cancel           | 在财务人员取消当前操作时，系统要退出当前任务                   |
| ManageAccount.Log              | 系统记录操作的详细信息，包括时间，操作人，行为，结果               |
| ManageAccount.Update           | 系统更新账户信息                                 |



#### 制定收付款单

##### 特性描述

在公司需要进行收款或者付款时，一个经过验证的财务人员可以建立收款单或建立付款单，并将建立的单据交给总经理进行审批

优先级 = 高

##### 刺激/响应序列

刺激：财务人员要求建立收（付）款单

响应：系统生成并显示收（付）款单

刺激：财务人员输入收（付）款单信息并提交

响应：系统将单据递交给审批程序，并记录操作日志

刺激：财务人员取消建立收（付）款单操作

响应：系统关闭建立收（付）款单任务

刺激：单据审批通过

响应：系统给财务人员发送单据审批通过消息，如果是收款单，则更改客户应付数据；如果是付款单，则更改客户应收数据

刺激：单据审批未通过

响应：系统给财务人员发送单据审批未通过消息

刺激：单据未通过审批，财务人员要求修改未审批的单据

响应：系统显示未通过的单据，让财务人员重新编辑

刺激：财务人员填写信息不完全

响应：系统提示信息不完整，要求继续填写

刺激：财务人员填写的金额存在非数字

响应：系统提示输入金额不合法

刺激：财务人员填写付款单时选择的账户余额不足

响应：系统提示所选账户余额不足，要求选择其他账户

##### 相关功能需求

| 编号                                    | 需求描述                                     |
| :------------------------------------ | ---------------------------------------- |
| AccountInOut.Build                    | 在财务人员要求新建一张收（付）款单时，系统要生成一张单据             |
| AccountInOut.Commit.Valid             | 在财务人员填写正确提交时，系统要进行操作日志记录（见AccountInOut.Log），并将单据交给审批程序（见AccountInOut.Approve） |
| AccountInOut.Commit.Account.NotEnough | 在财务人员选择的账户余额不足时，系统要提示余额不足                |
| AccountInOut.Commit.Num.Invalid       | 在财务人员输入的金额中包含非数字时，系统要提示输入非法              |
| AccountInOut.Commit.Incomplete        | 在单据未填写完所有内容就进行提交时，系统不予响应                 |
| AccountInOut.Cancel                   | 在财务人员要取消建立当前单据时，系统要退出当前填写任务              |
| AccountInOut.Approve                  | 系统将提交的单据交给审批程序进行审批                       |
| AccountInOut.Approve.Pass             | 单据审批通过后，系统给财务人员发送通过消息，更新客户的应收应付数据（参见AccountInOut.Update.Customer），将单据入账（参见AccountInOut.Record） |
| AccountInOut.Approve.Reject           | 单据审批不通过，系统给财务人员发送不通过消息，并进行操作日志记录（参见AccountInOut.Log） |
| AccountInOut.Approve.Modify           | 在财务人员提交的单据审批不通过请求修改时，系统要将未通过的单据显示，提供重新编辑的机会，让财务人员重新提交（参见AccountInOut.Commit） |
| AccountInOut.Update.Customer          | 系统更新客户应收应付信息                             |
| AccountInOut.Record                   | 系统将单据入账，记录单据的详细信息                        |
| AccountInOut.Log                      | 系统要对操作的时间、行为、结果、操作人进行记录                  |



#### 制定现金费用单

##### 特性描述

在公司人员进行费用报销或者使用时，财务人员可以建立现金费用单，并交给总经理审批

优先级 = 中

##### 刺激/响应序列

刺激：财务人员请求建立新的现金费用单

响应：系统生成新的现金费用单

刺激：财务人员输入现金费用单信息并提交

响应：系统将现金费用单递交给审批程序审批，并记录操作日志

刺激：财务人员取消建立现金费用单操作

响应：系统关闭建立现金费用单任务

刺激：现金费用单通过审批

响应：系统将此单据入账并给财务人员发送通过信息

刺激：现金费用单未通过审批

响应：系统给财务人员发送审批未通过信息

刺激：单据未通过审批，财务人员要求修改未审批的单据

响应：系统显示未通过的单据，让财务人员重新编辑

刺激：现金费用单填写信息不正确（填写不完整，非法字符）

响应：系统提示错误信息

刺激：现金费用单中所选银行账户余额不足

响应：系统提示所选账户余额不足，要求选择其他账户

##### 相关功能需求

| 编号                            | 需求描述                                     |
| ----------------------------- | ---------------------------------------- |
| Cost.Build                    | 在财务人员要求新建一张现金费用单时，系统要生成一张现金费用单据          |
| Cost.Commit.Valid             | 在财务人员填写正确提交时，系统要进行操作日志记录（见Cost.Log），并将单据交给审批程序（见Cost.Approve） |
| Cost.Commit.Account.NotEnough | 在财务人员选择的账户余额不足时，系统要提示余额不足                |
| Cost.Commit.Num.Invalid       | 在财务人员输入的金额中包含非数字时，系统要提示输入非法              |
| Cost.Commit.Incomplete        | 在单据未填写完所有内容时，系统不予响应                      |
| Cost.Cancel                   | 在财务人员要取消建立当前单据时，系统要退出当前填写任务              |
| Cost.Approve                  | 系统将提交的单据交给审批程序进行审批                       |
| Cost.Approve.Pass             | 单据审批通过后，系统给财务人员发送通过消息，将单据入账（参见Cost.Record），进行操作日志记录（Cost.Log），并更新账户余额（参见Cost.Update.Account） |
| Cost.Approve.Reject           | 单据审批不通过，系统给财务人员发送不通过消息，并进行操作日志记录（参见AccountInOut.Log） |
| Cost.Approve.Modify           | 在财务人员提交的单据审批不通过请求修改时，系统要将未通过的单据显示，提供重新编辑的机会，让财务人员重新提交（参见Cost.Commit） |
| Cost.Record                   | 系统将单据入账，记录单据的详细信息                        |
| Cost.Log                      | 系统要对操作的时间、行为、结果、操作人进行记录                  |
| Cost.Update.Account           | 现金费用单入账后，系统要对账户余额进行更新                    |



#### 期初建账

##### 特性描述

每年年初，公司需要新建一套帐，财务人员可以进行期初建账，导入往年数据，新建帐目

优先级 = 高

##### 刺激/响应序列

刺激：财务人员请求期初建账

响应：系统生成新的账目并显示账目详细信息，存储期初信息，并记录操作日志

##### 相关功能需求

| 编号                  | 需求描述                                 |
| ------------------- | ------------------------------------ |
| InitialBuild.Build  | 当财务人员请求期初建账时，系统要从以往账户中导入信息，计算并生成新的账目 |
| InitialBuild.Record | 当期初建账完成时，系统要将期初信息单独保存在一个专用文件中        |
| InitialBuild.Cancel | 在财务人员取消期初建账时，系统要关闭期初建账任务             |

#### 系统用户信息管理

##### 特性描述

在需要对系统中的用户信息进行管理时，管理员可以进行查询，修改，增加及删除操作

优先级 = 低

##### 刺激/响应序列

刺激：管理员请求查看系统用户信息

响应：系统列举所用系统用户信息

刺激：管理员增加新用户并输入新用户信息

响应：系统增加新用户，并记录操作日志

刺激：管理员删除用户

响应：系统删除所选用户，并记录操作日志

刺激：管理员请求修改用户并输入修改信息

响应：系统修改用户信息，记录操作日志

刺激：管理员输入关键词查询用户

响应：系统显示匹配用户

刺激：管理员取消管理系统用户信息

响应：系统退出管理系统用户信息任务

刺激：管理员增加账号用户名重复的账号

响应：系统提示用户名重复，要求重新输入

##### 相关功能需求

| 编号                     | 需求描述                                     |
| :--------------------- | :--------------------------------------- |
| Admin.User.List        | 在管理员请求查看用户列表时，系统要显示完整用户列表                |
| Admin.User.Detail      | 在管理员请求查看详细用户信息时，系统要显示用户详细信息              |
| Admin.Add.Valid        | 在管理员输入添加信息正确时，系统要添加新的用户信息（参见Admin.Update），并记录操作，参见Admin.Log |
| Admin.Add.Invalid      | 在管理员输入添加用户信息不正确时，系统提示输入无效                |
| Admin.Delete.User      | 在管理员选择用户进行删除时，系统要删除选中用户，显示“删除成功”，更新信息（参见Admin.Update），并记录操作，参见Admin.Log |
| Admin.Add.Duplicate    | 在管理员添加重名账号时，系统要提示错误，要求重新输入用户名            |
| Admin.Delete.Null      | 在管理员未选中用户就进行删除时，系统不予响应                   |
| Admin.Search.Account   | 在管理员输入关键字进行搜索且存在匹配项时，系统显示匹配的用户           |
| Admin.Search.Null      | 在管理员输入关键字进行搜素不存在匹配项时，系统提示无匹配项            |
| Admin.Search.Nokeyword | 在管理员不输入任何关键字进行搜索时，系统提示需要输入关键字            |
| Admin.Modify.Valid     | 在管理员修改某用户信息且输入合法时，系统要更新该用户信息（参见Admin.Update），并记录操作（参见Admin.Log） |
| Admin.Modify.Invalid   | 在管理员修改某用户信息单输入不合法时，系统要提示错误               |
| Admin.Modify.Duplicate | 在管理员修改用户名与其他用户名重复时，系统要提示错误，要求重新输入用户名     |
| Admin.Cancel           | 在管理员取消当前操作时，系统要退出当前任务                    |
| Admin.Log              | 系统记录操作的详细信息，包括时间，操作人，行为，结果               |
| Admin.Update           | 系统更新用户信息                                 |

### 质量需求

#### 安全性

Safety1：系统应该只允许经过验证和授权的用户访问；

Safety2：系统应该按照用户身份给予验证用户的访问权限

Safety3：系统中有一个默认的管理员账号，一切账号的权限以及信息只能由管理员进行更改

#### 可维护性

Modifiability1：系统网络发生故障时，能够在2个人天内进行修复。

Modifiability2：系统需要改进客户积分制度时，能够在半个人月内完成修改。

### 数据需求

#### 数据定义

待添加

#### 默认数据

Default1：新建账户默认金额为0

Default2：客户初始应收、应付默认为0

Default3：客户级别默认一级普通用户

#### **数据**格式要求

Format1：收款单编号遵循格式SKD-yyyyMMdd-xxxx

Format2：付款单编号遵循格式FKD-yyyyMMdd-xxxx

Format3：现金费用单编号遵循格式XJFYD-yyyyMMdd-xxxxx

Format4：日期的格式必须是yyyy-mm-dd

Format5：客户编号的格式从000001开始到999999结束

Format6：应收额度必须为非负数

Format7：账户金额必须为非负数

Format8：收付款单、现金费用单的金额必须大于0

### 其他需求

安装需求

Install1:在安装系统时，要初始化用户、银行账户等重要信息。

Install2:系统投入使用时，要对用户进行1天时间培训。